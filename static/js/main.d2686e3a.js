/*! For license information please see main.d2686e3a.js.LICENSE.txt */
!function(){var e={463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),x=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case k:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,Te=null;function ke(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),Se(e.stateNode,e.type,t))}}function Ie(e){_e?Te?Te.push(e):Te=[e]:_e=e}function xe(){if(_e){var e=_e,t=Te;if(Te=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ae(e,t){return e(t)}function Ce(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==_e||null!==Te)&&(Ce(),xe())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function Le(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,o,a,s,u){Me=!1,Fe=null,Le.apply(je,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(qe(e)!==e)throw Error(o(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,_t,Tt,kt,It=!1,xt=[],At=null,Ct=null,Nt=null,Dt=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void kt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function jt(){It=!1,null!==At&&Vt(At)&&(At=null),null!==Ct&&Vt(Ct)&&(Ct=null),null!==Nt&&Vt(Nt)&&(Nt=null),Dt.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function qt(e){function t(t){return Bt(t,e)}if(0<xt.length){Bt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var zt=w.ReactCurrentBatchConfig,Kt=!0;function Qt(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Ht(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Wt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Mt(At,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dt.set(o,Mt(Dt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&Et(o),null===(o=Yt(e,t,n,r))&&Kr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=gi(e=Ee(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=F({},cn,{view:0,detail:0}),hn=on(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),vn=on(F({},dn,{dataTransfer:0})),yn=on(F({},fn,{relatedTarget:0})),mn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(gn),wn=on(F({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function kn(){return Tn}var In=F({},fn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(In),An=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=on(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Nn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Dn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Gn(e){Vr(e,0)}function Yn(e){if(W(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Qn(t,Wn,e,Ee(e)),De(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==G(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},_r={},Tr={};function kr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return _r[e]=n[t];return e}l&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ir=kr("animationend"),xr=kr("animationiteration"),Ar=kr("animationstart"),Cr=kr("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Or=Dr[Rr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(xr,"onAnimationIteration"),Pr(Ar,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,jr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Xt(t)){case 1:var i=Qt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=gi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}De((function(){var r=o,i=Ee(n),a=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Ir:case xr:case Ar:u=mn;break;case Cr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Qr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:wi(u),d=null==c?s:wi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==u&&Gr(a,s,u,l,!1),null!==c&&null!==f&&Gr(a,f,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Xn;else if(Kn(s))if($n)y=ar;else{y=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(e,r))?Qn(a,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?wi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(g=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,qn=!0)),0<(m=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),Zt=Jt=$t=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Vr(a,t)}))}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Qr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Qr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,o))&&a.unshift(Qr(n,u,s)):i||null!=(u=Pe(n,o))&&a.push(Qr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[di]||null}var Si=[],_i=-1;function Ti(e){return{current:e}}function ki(e){0>_i||(e.current=Si[_i],Si[_i]=null,_i--)}function Ii(e,t){_i++,Si[_i]=e.current,e.current=t}var xi={},Ai=Ti(xi),Ci=Ti(!1),Ni=xi;function Di(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){ki(Ci),ki(Ai)}function Oi(e,t,n){if(Ai.current!==xi)throw Error(o(168));Ii(Ai,t),Ii(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ni=Ai.current,Ii(Ai,e),Ii(Ci,Ci.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,ki(Ci),ki(Ai),Ii(Ai,e)):ki(Ci),Ii(Ci,n)}var Vi=null,Ui=!1,ji=!1;function Bi(e){null===Vi?Vi=[e]:Vi.push(e)}function qi(){if(!ji&&null!==Vi){ji=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),We(Ze,qi),i}finally{bt=t,ji=!1}}return null}var zi=[],Ki=0,Qi=null,Hi=0,Wi=[],Gi=0,Yi=null,Xi=1,$i="";function Ji(e,t){zi[Ki++]=Hi,zi[Ki++]=Qi,Qi=e,Hi=t}function Zi(e,t,n){Wi[Gi++]=Xi,Wi[Gi++]=$i,Wi[Gi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Xi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Qi;)Qi=zi[--Ki],zi[Ki]=null,Hi=zi[--Ki],zi[Ki]=null;for(;e===Yi;)Yi=Wi[--Gi],Wi[Gi]=null,$i=Wi[--Gi],Wi[Gi]=null,Xi=Wi[--Gi],Wi[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var yo=w.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var go=Ti(null),bo=null,wo=null,Eo=null;function So(){Eo=wo=bo=null}function _o(e){var t=go.current;ki(go),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,Eo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var xo=null;function Ao(e){null===xo?xo=[e]:xo.push(e)}function Co(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,Ao(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Do=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mu|=a,e.lanes=a,e.memoizedState=f}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var jo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(nc(t,e,r,n),Mo(t,e,r))}};function zo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Ko(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Pi(t)?Ni:Ai.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Qo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=jo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Pi(t)?Ni:Ai.current,i.context=Di(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),Vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===jo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case S:return(t=Vc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===s.length)return n(i,f),io&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return io&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),io&&Ji(i,v),c}function y(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),io&&Ji(i,y),l;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,y),null===f?l=g:f.sibling=g,f=g);return io&&Ji(i,y),l}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=a(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),io&&Ji(i,y),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===_){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Yo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Wo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===_?((o=Lc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Oc(a.type,a.key,a.props,null,r.mode,u)).ref=Wo(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Vc(a,r.mode,u)).return=r,r=o}return s(r);case P:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(L(a))return y(r,o,a,u);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var $o=Xo(!0),Jo=Xo(!1),Zo={},ea=Ti(Zo),ta=Ti(Zo),na=Ti(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(Ii(na,t),Ii(ta,e),Ii(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(ea),Ii(ea,t)}function oa(){ki(ea),ki(ta),ki(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ii(ta,e),Ii(ea,n))}function sa(e){ta.current===e&&(ki(ea),ki(ta))}var ua=Ti(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=w.ReactCurrentDispatcher,da=w.ReactCurrentBatchConfig,pa=0,va=null,ya=null,ma=null,ga=!1,ba=!1,wa=0,Ea=0;function Sa(){throw Error(o(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ma=ya=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==ya&&null!==ya.next,pa=0,ma=ya=va=null,ga=!1,t)throw Error(o(300));return e}function ka(){var e=0!==wa;return wa=0,e}function Ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?va.memoizedState=ma=e:ma=ma.next=e,ma}function xa(){if(null===ya){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ya.next;var t=null===ma?va.memoizedState:ma.next;if(null!==t)ma=t,ya=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ya=e).memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},null===ma?va.memoizedState=ma=e:ma=ma.next=e}return ma}function Aa(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ya,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((pa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,va.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Mu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Da(){}function Pa(e,t){var n=va,r=xa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Ka(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,Ua(9,Oa.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(o(349));0!==(30&pa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&Fa(e)}function La(e,t,n){return n((function(){Ma(t)&&Fa(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fa(e){var t=No(e,1);null!==t&&nc(t,e,1,-1)}function Va(e){var t=Ia();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ja(){return xa().memoizedState}function Ba(e,t,n,r){var i=Ia();va.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function qa(e,t,n,r){var i=xa();r=void 0===r?null:r;var o=void 0;if(null!==ya){var a=ya.memoizedState;if(o=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}va.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function za(e,t){return Ba(8390656,8,e,t)}function Ka(e,t){return qa(2048,8,e,t)}function Qa(e,t){return qa(4,2,e,t)}function Ha(e,t){return qa(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qa(4,4,Wa.bind(null,t,e),n)}function Ya(){}function Xa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Mu|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function es(){return xa().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Co(e,t,n,r))){nc(n,e,r,ec()),os(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Ao(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Co(e,t,i,r))&&(nc(n,e,r,i=ec()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var as={readContext:Io,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:Io,useCallback:function(e,t){return Ia().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ia().memoizedState=e},useState:Va,useDebugValue:Ya,useDeferredValue:function(e){return Ia().memoizedState=e},useTransition:function(){var e=Va(!1),t=e[0];return e=Za.bind(null,e[1]),Ia().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ia();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Cu)throw Error(o(349));0!==(30&pa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(La.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ia(),t=Cu.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ea++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Io,useCallback:Xa,useContext:Io,useEffect:Ka,useImperativeHandle:Ga,useInsertionEffect:Qa,useLayoutEffect:Ha,useMemo:$a,useReducer:Ca,useRef:ja,useState:function(){return Ca(Aa)},useDebugValue:Ya,useDeferredValue:function(e){return Ja(xa(),ya.memoizedState,e)},useTransition:function(){return[Ca(Aa)[0],xa().memoizedState]},useMutableSource:Da,useSyncExternalStore:Pa,useId:es,unstable_isNewReconciler:!1},cs={readContext:Io,useCallback:Xa,useContext:Io,useEffect:Ka,useImperativeHandle:Ga,useInsertionEffect:Qa,useLayoutEffect:Ha,useMemo:$a,useReducer:Na,useRef:ja,useState:function(){return Na(Aa)},useDebugValue:Ya,useDeferredValue:function(e){var t=xa();return null===ya?t.memoizedState=e:Ja(t,ya.memoizedState,e)},useTransition:function(){return[Na(Aa)[0],xa().memoizedState]},useMutableSource:Da,useSyncExternalStore:Pa,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Qu=r),hs(0,t)},n}function vs(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function Es(e,t,n,r){t.child=null===e?Jo(t,null,n,r):$o(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Ta(e,t,n,r,o,i),n=ka(),null===e||ws?(io&&n&&eo(t),t.flags|=1,Es(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ts(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Rc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return xs(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ru,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ru,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Ru,Pu),Pu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Ru,Pu),Pu|=r;return Es(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,r,i){var o=Pi(n)?Ni:Ai.current;return o=Di(t,o),ko(t,i),n=Ta(e,t,n,r,o,i),r=ka(),null===e||ws?(io&&r&&eo(t),t.flags|=1,Es(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function As(e,t,n,r,i){if(Pi(n)){var o=!0;Mi(t)}else o=!1;if(ko(t,i),null===t.stateNode)zs(e,t),Ko(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Io(c):c=Di(t,c=Pi(n)?Ni:Ai.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Qo(t,a,r,c),Do=!1;var h=t.memoizedState;a.state=h,Vo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||Ci.current||Do?("function"===typeof l&&(Bo(t,n,l,r),u=t.memoizedState),(s=Do||zo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:mo(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Io(u):u=Di(t,u=Pi(n)?Ni:Ai.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&Qo(t,a,r,u),Do=!1,h=t.memoizedState,a.state=h,Vo(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||Ci.current||Do?("function"===typeof d&&(Bo(t,n,d,r),p=t.memoizedState),(c=Do||zo(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,o,i)}function Cs(e,t,n,r,i,o){Is(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Ks(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,s,o)):Es(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ia(e,t.containerInfo)}function Ds(e,t,n,r,i){return po(),vo(i),t.flags|=256,Es(e,t,n,r),t.child}var Ps,Rs,Os,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ii(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Vs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Cu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,No(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[Gi++]=Xi,Wi[Gi++]=$i,Wi[Gi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),(t=Vs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&vo(r),$o(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Es(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Hs(t),null;case 3:return r=t.stateNode,oa(),ki(Ci),ki(Ai),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Hs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ge(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ps(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ge(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ye(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hs(t),null;case 13:if(ki(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Ou&&(Ou=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return oa(),null===e&&qr(t.stateNode.containerInfo),Hs(t),null;case 10:return _o(t.type._context),Hs(t),null;case 19:if(ki(ua),null===(a=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Qs(a,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Qs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>qu&&(t.flags|=128,r=!0,Qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Hs(t),null}else 2*$e()-a.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Qs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ua.current,Ii(ua,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gs(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),ki(Ci),ki(Ai),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(ki(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ua),null;case 4:return oa(),null;case 10:return _o(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(o(160));du(a,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Tc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),mu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(y){Tc(e,e.return,y)}try{nu(5,e,e.return)}catch(y){Tc(e,e.return,y)}}break;case 1:vu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Tc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&$(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(y){Tc(e,e.return,y)}}break;case 6:if(vu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){Tc(e,e.return,y)}}break;case 3:if(vu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){Tc(e,e.return,y)}break;case 4:default:vu(t,e),mu(e);break;case 13:vu(t,e),mu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=$e())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,vu(t,e),Xs=l):vu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Tc(r,n,y)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){Eu(h);continue}}null!==p?(p.return=d,Js=p):Eu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(y){Tc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Tc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),mu(e),4&r&&pu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){Tc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=a,(Xs=u)&&!c)for(Js=i;null!==Js;)u=(a=Js).child,22===a.tag&&null!==a.memoizedState?Su(i):null!==u?(u.return=a,Js=u):Su(i);for(;null!==o;)Js=o,bu(o,t,n),o=o.sibling;Js=i,Ys=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wu(e)}}function wu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&iu(t)}catch(d){Tc(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function Eu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Su(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Tc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Tc(t,i,u)}}var o=t.return;try{iu(t)}catch(u){Tc(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){Tc(t,a,u)}}}catch(u){Tc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _u,Tu=Math.ceil,ku=w.ReactCurrentDispatcher,Iu=w.ReactCurrentOwner,xu=w.ReactCurrentBatchConfig,Au=0,Cu=null,Nu=null,Du=0,Pu=0,Ru=Ti(0),Ou=0,Lu=null,Mu=0,Fu=0,Vu=0,Uu=null,ju=null,Bu=0,qu=1/0,zu=null,Ku=!1,Qu=null,Hu=null,Wu=!1,Gu=null,Yu=0,Xu=0,$u=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Au)?$e():-1!==Ju?Ju:Ju=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Du?Du&-Du:null!==yo.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,$u=null,Error(o(185));mt(e,n,r),0!==(2&Au)&&e===Cu||(e===Cu&&(0===(2&Au)&&(Fu|=n),4===Ou&&sc(e,Du)),rc(e,r),1===n&&0===Au&&0===(1&t.mode)&&(qu=$e()+500,Ui&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Cu?Du:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),ai((function(){0===(6&Au)&&qi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Au))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cu?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Au;Au|=2;var a=pc();for(Cu===e&&Du===t||(zu=null,qu=$e()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}So(),ku.current=a,Au=i,null!==Nu?t=0:(Cu=null,Du=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Lu,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ec(e,ju,zu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,ju,zu),t);break}Ec(e,ju,zu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,ju,zu),r);break}Ec(e,ju,zu);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=ju,ju=n,null!==t&&ac(t)),e}function ac(e){null===ju?ju=e:ju.push.apply(ju,e)}function sc(e,t){for(t&=~Vu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Au))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,ju,zu),rc(e,$e()),null}function cc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(qu=$e()+500,Ui&&qi())}}function lc(e){null!==Gu&&0===Gu.tag&&0===(6&Au)&&Sc();var t=Au;Au|=1;var n=xu.transition,r=bt;try{if(xu.transition=null,bt=1,e)return e()}finally{bt=r,xu.transition=n,0===(6&(Au=t))&&qi()}}function fc(){Pu=Ru.current,ki(Ru)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:oa(),ki(Ci),ki(Ai),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:ki(ua);break;case 10:_o(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Cu=e,Nu=e=Rc(e.current,null),Du=Pu=t,Ou=0,Lu=null,Vu=Fu=Mu=0,ju=Uu=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}xo=null}return e}function dc(e,t){for(;;){var n=Nu;try{if(So(),ha.current=as,ga){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ga=!1}if(pa=0,ma=ya=va=null,ba=!1,wa=0,Iu.current=null,null===n||null===n.return){Ou=1,Lu=t,Nu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Du,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ys(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){ys(a,l,t),vc();break e}c=Error(o(426))}else if(io&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gs(m,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==Ou&&(Ou=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ps(0,c,t));break e;case 1:u=c;var g=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hu||!Hu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function pc(){var e=ku.current;return ku.current=as,null===e?as:e}function vc(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Cu||0===(268435455&Mu)&&0===(268435455&Fu)||sc(Cu,Du)}function yc(e,t){var n=Au;Au|=2;var r=pc();for(Cu===e&&Du===t||(zu=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(So(),Au=n,ku.current=r,null!==Nu)throw Error(o(261));return Cu=null,Du=0,Ou}function mc(){for(;null!==Nu;)bc(Nu)}function gc(){for(;null!==Nu&&!Ye();)bc(Nu)}function bc(e){var t=_u(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?wc(e):Nu=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ws(n,t,Pu)))return void(Nu=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Ou=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Ou&&(Ou=5)}function Ec(e,t,n){var r=bt,i=xu.transition;try{xu.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Gu);if(0!==(6&Au))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Cu&&(Nu=Cu=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wu||(Wu=!0,Cc(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xu.transition,xu.transition=null;var s=bt;bt=1;var u=Au;Au|=4,Iu.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(E){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:mo(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(E){Tc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),yu(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Xe(),Au=u,bt=s,xu.transition=a}else e.current=n;if(Wu&&(Wu=!1,Gu=e,Yu=i),0===(a=e.pendingLanes)&&(Hu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Qu,Qu=null,e;0!==(1&Yu)&&0!==e.tag&&Sc(),0!==(1&(a=e.pendingLanes))?e===$u?Xu++:(Xu=0,$u=e):Xu=0,qi()}(e,t,n,r)}finally{xu.transition=i,bt=r}return null}function Sc(){if(null!==Gu){var e=wt(Yu),t=xu.transition,n=bt;try{if(xu.transition=null,bt=16>e?16:e,null===Gu)var r=!1;else{if(e=Gu,Gu=null,Yu=0,0!==(6&Au))throw Error(o(331));var i=Au;for(Au|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,a)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(ou(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=a.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Js=g;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(S){Tc(u,u.return,S)}if(u===s){Js=null;break e}var E=u.sibling;if(null!==E){E.return=u.return,Js=E;break e}Js=u.return}}if(Au=i,qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,xu.transition=t}}return!1}function _c(e,t,n){e=Lo(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Tc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Lo(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Du&n)===n&&(4===Ou||3===Ou&&(130023424&Du)===Du&&500>$e()-Bu?hc(e,0):Vu|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=No(e,t))&&(mt(e,t,n),rc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Cc(e,t){return We(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,a,t);case T:s=8,i|=8;break;case k:return(e=Dc(12,n,t,2|i)).elementType=k,e.lanes=a,e;case C:return(e=Dc(13,n,t,i)).elementType=C,e.lanes=a,e;case N:return(e=Dc(19,n,t,i)).elementType=N,e.lanes=a,e;case R:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case x:s=9;break e;case A:s=11;break e;case D:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,o,a,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return xi;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,o,a,s,u){return(e=jc(n,r,!0,e,0,o,0,s,u)).context=qc(null),n=e.current,(o=Oo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(nc(e,i,a,o),Mo(e,i,a)),a}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),po();break;case 5:aa(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(go,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ii(ua,1&ua.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ii(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Ks(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Di(t,Ai.current);ko(t,n),i=Ta(null,t,r,e,i,n);var a=ka();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Es(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===D)return 14}return 2}(r),e=mo(r,e),i){case 0:t=xs(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=_s(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ro(e,t),Vo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ds(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ds(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ks(e,t,n);break e}Es(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Is(e,t),Es(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):Es(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ii(go,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ci.current){t=Ks(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Oo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),To(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Es(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Io(i)),t.flags|=1,Es(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),_s(e,t,r,i=mo(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),zs(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,ko(t,n),Ko(t,r,i),Ho(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Qc(a);s.call(e)}}Kc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Qc(a);o.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,qr(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Qc(u);s.call(e)}}var u=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,u,n,r)})),u}(n,t,e,i,r);return Qc(a)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Kc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,$e()),0===(6&Au)&&(qu=$e()+500,qi()))}break;case 13:lc((function(){var t=No(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},St=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=No(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},Tt=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));W(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Ce=lc;var tl={usingClientEntryPoint:!1,Events:[bi,wi,Ei,Ie,xe,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(o(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var w=b.prototype=new g;w.constructor=b,v(w,m.prototype),w.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+A(u,0):o,E(a)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",E(e))for(var c=0;c<e.length;c++){var l=o+A(s=e[c],c);u+=C(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=o+A(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function E(e){if(y=!1,w(e),!v)if(null!==r(c))v=!0,R(S);else{var t=r(l);null!==t&&O(E,t.startTime-e)}}function S(e,n){v=!1,y&&(y=!1,g(I),I=-1),p=!0;var o=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(E,f.startTime-n),u=!1}return u}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,T=!1,k=null,I=-1,x=5,A=-1;function C(){return!(t.unstable_now()-A<x)}function N(){if(null!==k){var e=t.unstable_now();A=e;var n=!0;try{n=k(!0,e)}finally{n?_():(T=!1,k=null)}}else T=!1}if("function"===typeof b)_=function(){b(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=N,_=function(){P.postMessage(null)}}else _=function(){m(N,0)};function R(e){k=e,T||(T=!0,_())}function O(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(y?(g(I),I=-1):y=!0,O(E,o-a))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(S))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},191:function(e){var t="undefined"!==typeof process&&process.pid?process.pid.toString(36):"";function n(){var e=Date.now(),t=n.last||e;return n.last=e>t?e:t+1}e.exports=e.exports.default=function(e,r){return(e||"")+""+t+n().toString(36)+(r||"")},e.exports.process=function(e,r){return(e||"")+t+n().toString(36)+(r||"")},e.exports.time=function(e,t){return(e||"")+n().toString(36)+(t||"")}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/chemical-elements/",function(){"use strict";var e=n(791),t=n(250);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(A){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var y={};c(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(I([])));g&&g!==t&&n.call(g,a)&&(y=g);var b=v.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,s,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==r(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=v,c(b,"constructor",v),c(v,"constructor",p),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),c(b,u,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n.p+"static/media/periodic-table.19444c90c2cd47dfb767.jpg",l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},l(e,t)};function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)};function d(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Vp){o(Vp)}}function s(e){try{u(r.throw(e))}catch(Vp){o(Vp)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function p(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Vp){o=[6,Vp],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function v(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var g=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(g(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},w=function(e){return function(e){var t=g(e);return b.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function E(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=E(e[n],t[n]));return e}var S=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function _(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function T(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Vp){return!1}}var k=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,I.prototype.create),o}return f(t,e),t}(Error),I=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?x(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new k(i,s,r);return u},e}();function x(e,t){return e.replace(A,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var A=/\{\$([^}]+)}/g;function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function N(e,t){var n=new D(e,t);return n.subscribe.bind(n)}var D=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=P),void 0===r.error&&(r.error=P),void 0===r.complete&&(r.complete=P);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Vp){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Vp){"undefined"!==typeof console&&console.error&&console.error(Vp)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function P(){}function R(e){return e&&e._delegate?e._delegate:e}var O=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),L="[DEFAULT]",M=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new S;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Vp){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Vp){if(r)return null;throw Vp}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:L})}catch(Vp){}try{for(var r=v(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=y(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(Vp){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=L),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return d(this,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(m(m([],y(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),y(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=L),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=L),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=v(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=y(u.value,2),l=c[0],f=c[1];o===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=v(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===L?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(gp){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=L),this.component?this.component.multipleInstances?e:L:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var F,V=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new M(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function U(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var j,B=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(j||(j={}));var q,z={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},K=j.INFO,Q=((F={})[j.DEBUG]="log",F[j.VERBOSE]="log",F[j.INFO]="info",F[j.WARN]="warn",F[j.ERROR]="error",F),H=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Q[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,U(["["+i+"]  "+e.name+":"],n))}},W=function(){function e(e){this.name=e,this._logLevel=K,this._logHandler=H,this._userLogHandler=null,B.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in j))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?z[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,U([this,j.DEBUG],e)),this._logHandler.apply(this,U([this,j.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,U([this,j.VERBOSE],e)),this._logHandler.apply(this,U([this,j.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,U([this,j.INFO],e)),this._logHandler.apply(this,U([this,j.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,U([this,j.WARN],e)),this._logHandler.apply(this,U([this,j.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,U([this,j.ERROR],e)),this._logHandler.apply(this,U([this,j.ERROR],e))},e}();function G(e){B.forEach((function(t){t.setLogLevel(e)}))}var Y,X=((q={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",q["bad-app-name"]="Illegal App name: '{$appName}",q["duplicate-app"]="Firebase App named '{$appName}' already exists",q["app-deleted"]="Firebase App named '{$appName}' already deleted",q["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",q["invalid-log-argument"]="First argument to `onLog` must be null or a function.",q),$=new I("app","Firebase",X),J="@firebase/app",Z="[DEFAULT]",ee=((Y={})[J]="fire-core",Y["@firebase/analytics"]="fire-analytics",Y["@firebase/app-check"]="fire-app-check",Y["@firebase/auth"]="fire-auth",Y["@firebase/database"]="fire-rtdb",Y["@firebase/functions"]="fire-fn",Y["@firebase/installations"]="fire-iid",Y["@firebase/messaging"]="fire-fcm",Y["@firebase/performance"]="fire-perf",Y["@firebase/remote-config"]="fire-rc",Y["@firebase/storage"]="fire-gcs",Y["@firebase/firestore"]="fire-fst",Y["fire-js"]="fire-js",Y["firebase-wrapper"]="fire-js-all",Y),te=new W("@firebase/app"),ne=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=E(void 0,e),this.container=new V(t.name),this._addComponent(new O("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=Z),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=Z),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(Vp){te.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,Vp)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw $.create("app-deleted",{appName:this.name_})},e}();ne.prototype.name&&ne.prototype.options||ne.prototype.delete||console.log("dc");function re(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=Z);var a=o.name;if("string"!==typeof a||!a)throw $.create("bad-app-name",{appName:String(a)});if(C(t,a))throw $.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=ee[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void te.warn(u.join(" "))}o(new O(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:G,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw $.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=z[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:j[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=B;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!C(t,e=e||Z))throw $.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return te.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw $.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&E(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var ie=function e(){var t=re(ne);return t.INTERNAL=h(h({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){E(t,e)},createSubscribe:N,ErrorFactory:I,deepExtend:E}),t}(),oe=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ae=self.firebase.SDK_VERSION;ae&&ae.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var se=ie.initializeApp;ie.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return T()&&te.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),se.apply(void 0,e)};var ue=ie;!function(e,t){e.INTERNAL.registerComponent(new O("platform-logger",(function(e){return new oe(e)}),"PRIVATE")),e.registerVersion(J,"0.6.30",t),e.registerVersion("fire-js","")}(ue);var ce=ue,le="8.10.1";ce.registerVersion("firebase",le,"app"),ce.SDK_VERSION=le;var fe=function(e,t){return fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},fe(e,t)};function he(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var de,pe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ve=ve||{},ye=pe||self;function me(){}function ge(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function be(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var we="closure_uid_"+(1e9*Math.random()>>>0),Ee=0;function Se(e,t,n){return e.call.apply(e.bind,arguments)}function _e(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Te(e,t,n){return(Te=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Se:_e).apply(null,arguments)}function ke(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ie(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function xe(){this.s=this.s,this.o=this.o}var Ae={};xe.prototype.s=!1,xe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,we)&&e[we]||(e[we]=++Ee)}(this);delete Ae[e]}},xe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ce=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ne=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function De(e){return Array.prototype.concat.apply([],arguments)}function Pe(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Re(e){return/^[\s\xa0]*$/.test(e)}var Oe,Le=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Me(e,t){return-1!=e.indexOf(t)}function Fe(e,t){return e<t?-1:e>t?1:0}e:{var Ve=ye.navigator;if(Ve){var Ue=Ve.userAgent;if(Ue){Oe=Ue;break e}}Oe=""}function je(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Be(e){var t={};for(var n in e)t[n]=e[n];return t}var qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ze(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<qe.length;o++)n=qe[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ke(e){return Ke[" "](e),e}Ke[" "]=me;var Qe,He=Me(Oe,"Opera"),We=Me(Oe,"Trident")||Me(Oe,"MSIE"),Ge=Me(Oe,"Edge"),Ye=Ge||We,Xe=Me(Oe,"Gecko")&&!(Me(Oe.toLowerCase(),"webkit")&&!Me(Oe,"Edge"))&&!(Me(Oe,"Trident")||Me(Oe,"MSIE"))&&!Me(Oe,"Edge"),$e=Me(Oe.toLowerCase(),"webkit")&&!Me(Oe,"Edge");function Je(){var e=ye.document;return e?e.documentMode:void 0}e:{var Ze="",et=function(){var e=Oe;return Xe?/rv:([^\);]+)(\)|;)/.exec(e):Ge?/Edge\/([\d\.]+)/.exec(e):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$e?/WebKit\/(\S+)/.exec(e):He?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(et&&(Ze=et?et[1]:""),We){var tt=Je();if(null!=tt&&tt>parseFloat(Ze)){Qe=String(tt);break e}}Qe=Ze}var nt,rt={};function it(){return function(e){var t=rt;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Le(String(Qe)).split("."),n=Le("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Fe(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Fe(0==o[2].length,0==a[2].length)||Fe(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(ye.document&&We){var ot=Je();nt=ot||(parseInt(Qe,10)||void 0)}else nt=void 0;var at=nt,st=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ye.addEventListener("test",me,t),ye.removeEventListener("test",me,t)}catch(n){}return e}();function ut(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ct(e,t){if(ut.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xe){e:{try{Ke(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:lt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ct.Z.h.call(this)}}ut.prototype.h=function(){this.defaultPrevented=!0},Ie(ct,ut);var lt={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),ht=0;function dt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ht,this.ca=this.fa=!1}function pt(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function vt(e){this.src=e,this.g={},this.h=0}function yt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Ce(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(pt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function mt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}vt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=mt(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new dt(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var gt="closure_lm_"+(1e6*Math.random()|0),bt={};function wt(e,t,n,r,i){if(r&&r.once)return St(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)wt(e,t[o],n,r,i);return null}return n=Ct(n),e&&e[ft]?e.N(t,n,be(r)?!!r.capture:!!r,i):Et(e,t,n,!1,r,i)}function Et(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=be(i)?!!i.capture:!!i,s=xt(e);if(s||(e[gt]=s=new vt(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=It;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)st||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(kt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function St(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)St(e,t[o],n,r,i);return null}return n=Ct(n),e&&e[ft]?e.O(t,n,be(r)?!!r.capture:!!r,i):Et(e,t,n,!0,r,i)}function _t(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)_t(e,t[o],n,r,i);else r=be(r)?!!r.capture:!!r,n=Ct(n),e&&e[ft]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=mt(o=e.g[t],n,r,i))&&(pt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=xt(e))&&(t=e.g[t.toString()],e=-1,t&&(e=mt(t,n,r,i)),(n=-1<e?t[e]:null)&&Tt(n))}function Tt(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ft])yt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(kt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xt(t))?(yt(n,e),0==n.h&&(n.src=null,t[gt]=null)):pt(e)}}}function kt(e){return e in bt?bt[e]:bt[e]="on"+e}function It(e,t){if(e.ca)e=!0;else{t=new ct(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Tt(e),e=n.call(r,t)}return e}function xt(e){return(e=e[gt])instanceof vt?e:null}var At="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(e){return"function"===typeof e?e:(e[At]||(e[At]=function(t){return e.handleEvent(t)}),e[At])}function Nt(){xe.call(this),this.i=new vt(this),this.P=this,this.I=null}function Dt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ut(t,e);else if(t instanceof ut)t.target=t.target||e;else{var i=t;ze(t=new ut(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Pt(a,r,!0,t)&&i}if(i=Pt(a=t.g=e,r,!0,t)&&i,i=Pt(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Pt(a=t.g=n[o],r,!1,t)&&i}function Pt(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&yt(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ie(Nt,xe),Nt.prototype[ft]=!0,Nt.prototype.removeEventListener=function(e,t,n,r){_t(this,e,t,n,r)},Nt.prototype.M=function(){if(Nt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pt(n[r]);delete t.g[e],t.h--}}this.I=null},Nt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Nt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Rt=ye.JSON.stringify;function Ot(){var e=qt,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Lt,Mt=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Ft.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Ft=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Vt}),(function(e){return e.reset()})),Vt=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Ut(e){ye.setTimeout((function(){throw e}),0)}function jt(e,t){Lt||function(){var e=ye.Promise.resolve(void 0);Lt=function(){e.then(zt)}}(),Bt||(Lt(),Bt=!0),qt.add(e,t)}var Bt=!1,qt=new Mt;function zt(){for(var e;e=Ot();){try{e.h.call(e.g)}catch(n){Ut(n)}var t=Ft;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Bt=!1}function Kt(e,t){Nt.call(this),this.h=e||1,this.g=t||ye,this.j=Te(this.kb,this),this.l=Date.now()}function Qt(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ht(e,t,n){if("function"===typeof e)n&&(e=Te(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Te(e.handleEvent,e)}return 2147483647<Number(t)?-1:ye.setTimeout(e,t||0)}function Wt(e){e.g=Ht((function(){e.g=null,e.i&&(e.i=!1,Wt(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ie(Kt,Nt),(de=Kt.prototype).da=!1,de.S=null,de.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dt(this,"tick"),this.da&&(Qt(this),this.start()))}},de.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},de.M=function(){Kt.Z.M.call(this),Qt(this),delete this.g};var Gt=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}fe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Wt(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(xe);function Yt(e){xe.call(this),this.h=e,this.g={}}Ie(Yt,xe);var Xt=[];function $t(e,t,n,r){Array.isArray(n)||(n&&(Xt[0]=n.toString()),n=Xt);for(var i=0;i<n.length;i++){var o=wt(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Jt(e){je(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Tt(e)}),e),e.g={}}function Zt(){this.g=!0}function en(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Rt(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Yt.prototype.M=function(){Yt.Z.M.call(this),Jt(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zt.prototype.Aa=function(){this.g=!1},Zt.prototype.info=function(){};var tn={},nn=null;function rn(){return nn=nn||new Nt}function on(e){ut.call(this,tn.Ma,e)}function an(e){var t=rn();Dt(t,new on(t,e))}function sn(e,t){ut.call(this,tn.STAT_EVENT,e),this.stat=t}function un(e){var t=rn();Dt(t,new sn(t,e))}function cn(e,t){ut.call(this,tn.Na,e),this.size=t}function ln(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ye.setTimeout((function(){e()}),t)}tn.Ma="serverreachability",Ie(on,ut),tn.STAT_EVENT="statevent",Ie(sn,ut),tn.Na="timingevent",Ie(cn,ut);var fn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dn(){}function pn(e){return e.h||(e.h=e.i())}function vn(){}dn.prototype.h=null;var yn,mn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gn(){ut.call(this,"d")}function bn(){ut.call(this,"c")}function wn(){}function En(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Yt(this),this.P=_n,e=Ye?125:void 0,this.W=new Kt(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Sn}function Sn(){this.i=null,this.g="",this.h=!1}Ie(gn,ut),Ie(bn,ut),Ie(wn,dn),wn.prototype.g=function(){return new XMLHttpRequest},wn.prototype.i=function(){return{}},yn=new wn;var _n=45e3,Tn={},kn={};function In(e,t,n){e.K=1,e.v=Yn(zn(t)),e.s=n,e.U=!0,xn(e,null)}function xn(e,t){e.F=Date.now(),Dn(e),e.A=zn(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ur(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Sn,e.g=li(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Gt(Te(e.Ia,e,e.g),e.O)),$t(e.V,e.g,"readystatechange",e.gb),t=e.H?Be(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),an(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function An(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Cn(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Nn(e,n))==kn){4==t&&(e.o=4,un(14),i=!1),en(e.j,e.m,null,"[Incomplete Response]");break}if(r==Tn){e.o=4,un(15),en(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}en(e.j,e.m,r,null),Mn(e,r)}An(e)&&r!=kn&&r!=Tn&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,un(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ni(t),t.L=!0,un(11))):(en(e.j,e.m,n,"[Invalid Chunked Response]"),Ln(e),On(e))}function Nn(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?kn:(n=Number(t.substring(n,r)),isNaN(n)?Tn:(r+=1)+n>t.length?kn:(t=t.substr(r,n),e.C=r+n,t))}function Dn(e){e.Y=Date.now()+e.P,Pn(e,e.P)}function Pn(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ln(Te(e.eb,e),t)}function Rn(e){e.B&&(ye.clearTimeout(e.B),e.B=null)}function On(e){0==e.l.G||e.I||oi(e.l,e)}function Ln(e){Rn(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Qt(e.W),Jt(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Mn(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||yr(n.i,e)))if(n.I=e.N,!e.J&&yr(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ii(n),Wr(n)}ti(n),un(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ln(Te(n.ab,n),6e3));if(1>=vr(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else si(n,11)}else if((e.J||n.g==e)&&ii(n),!Re(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Me(l,"spdy")||Me(l,"quic")||Me(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(mr(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Gn(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ci(r,r.H?r.la:null,r.W),d.J){gr(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Rn(p),Dn(p)),r.g=d}else ei(r);0<n.l.length&&Xr(n)}else"stop"!=o[0]&&"close"!=o[0]||si(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?si(n,7):Hr(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}an(4)}catch(o){}}function Fn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ge(e)||"string"===typeof e)Ne(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ge(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ge(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Vn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Vn)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Un(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];jn(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)jn(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function jn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(de=En.prototype).setTimeout=function(e){this.P=e},de.gb=function(e){e=e.target;var t=this.L;t&&3==Br(e)?t.l():this.Ia(e)},de.Ia=function(e){try{if(e==this.g)e:{var t=Br(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ye||this.g&&(this.h.h||this.g.ga()||qr(this.g)))){this.I||4!=t||7==n||an(8==n||0>=r?3:2),Rn(this);var i=this.g.ba();this.N=i;t:if(An(this)){var o=qr(this.g);e="";var a=o.length,s=4==Br(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ln(this),On(this);var u="";break t}this.h.i=new ye.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Re(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,un(12),Ln(this),On(this);break e}en(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mn(this,i)}this.U?(Cn(this,t,u),Ye&&this.i&&3==t&&($t(this.V,this.W,"tick",this.fb),this.W.start())):(en(this.j,this.m,u,null),Mn(this,u)),4==t&&Ln(this),this.i&&!this.I&&(4==t?oi(this.l,this):(this.i=!1,Dn(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,un(12)):(this.o=0,un(13)),Ln(this),On(this)}}}catch(t){}},de.fb=function(){if(this.g){var e=Br(this.g),t=this.g.ga();this.C<t.length&&(Rn(this),Cn(this,e,t),this.i&&4!=e&&Dn(this))}},de.cancel=function(){this.I=!0,Ln(this)},de.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(an(3),un(17)),Ln(this),this.o=2,On(this)):Pn(this,this.Y-e)},(de=Vn.prototype).R=function(){Un(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},de.T=function(){return Un(this),this.g.concat()},de.get=function(e,t){return jn(this.h,e)?this.h[e]:t},de.set=function(e,t){jn(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},de.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Bn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qn(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof qn){this.g=void 0!==t?t:e.g,Kn(this,e.j),this.s=e.s,Qn(this,e.i),Hn(this,e.m),this.l=e.l,t=e.h;var n=new ir;n.i=t.i,t.g&&(n.g=new Vn(t.g),n.h=t.h),Wn(this,n),this.o=e.o}else e&&(n=String(e).match(Bn))?(this.g=!!t,Kn(this,n[1]||"",!0),this.s=Xn(n[2]||""),Qn(this,n[3]||"",!0),Hn(this,n[4]),this.l=Xn(n[5]||"",!0),Wn(this,n[6]||"",!0),this.o=Xn(n[7]||"")):(this.g=!!t,this.h=new ir(null,this.g))}function zn(e){return new qn(e)}function Kn(e,t,n){e.j=n?Xn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qn(e,t,n){e.i=n?Xn(t,!0):t}function Hn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wn(e,t,n){t instanceof ir?(e.h=t,function(e,t){t&&!e.j&&(or(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ar(this,t),ur(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=$n(t,nr)),e.h=new ir(t,e.g))}function Gn(e,t,n){e.h.set(t,n)}function Yn(e){return Gn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $n(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}qn.prototype.toString=function(){var e=[],t=this.j;t&&e.push($n(t,Zn,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push($n(t,Zn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push($n(n,"/"==n.charAt(0)?tr:er,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",$n(n,rr)),e.join("")};var Zn=/[#\/\?@]/g,er=/[#\?:]/g,tr=/[#\?]/g,nr=/[#\?@]/g,rr=/#/g;function ir(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function or(e){e.g||(e.g=new Vn,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ar(e,t){or(e),t=cr(e,t),jn(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,jn((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Un(e)))}function sr(e,t){return or(e),t=cr(e,t),jn(e.g.h,t)}function ur(e,t,n){ar(e,t),0<n.length&&(e.i=null,e.g.set(cr(e,t),Pe(n)),e.h+=n.length)}function cr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(de=ir.prototype).add=function(e,t){or(this),this.i=null,e=cr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},de.forEach=function(e,t){or(this),this.g.forEach((function(n,r){Ne(n,(function(n){e.call(t,n,r,this)}),this)}),this)},de.T=function(){or(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},de.R=function(e){or(this);var t=[];if("string"===typeof e)sr(this,e)&&(t=De(t,this.g.get(cr(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=De(t,e[n])}return t},de.set=function(e,t){return or(this),this.i=null,sr(this,e=cr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},de.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},de.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var lr=function(e,t){this.h=e,this.g=t};function fr(e){this.l=e||dr,ye.PerformanceNavigationTiming?e=0<(e=ye.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ye.g&&ye.g.Ea&&ye.g.Ea()&&ye.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hr,dr=10;function pr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function vr(e){return e.h?1:e.g?e.g.size:0}function yr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function mr(e,t){e.g?e.g.add(t):e.h=t}function gr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function br(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=he(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Pe(e.i)}function wr(){}function Er(){this.g=new wr}function Sr(e,t,n){var r=n||"";try{Fn(e,(function(e,n){var i=e;be(e)&&(i=Rt(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Vp){throw t.push(r+"type="+encodeURIComponent("_badmap")),Vp}}function _r(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Tr(e){this.l=e.$b||null,this.j=e.ib||!1}function kr(e,t){Nt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ir,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fr.prototype.cancel=function(){var e,t;if(this.i=br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=he(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},wr.prototype.stringify=function(e){return ye.JSON.stringify(e,void 0)},wr.prototype.parse=function(e){return ye.JSON.parse(e,void 0)},Ie(Tr,dn),Tr.prototype.g=function(){return new kr(this.l,this.j)},Tr.prototype.i=(hr={},function(){return hr}),Ie(kr,Nt);var Ir=0;function xr(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ar(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cr(e)}function Cr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(de=kr.prototype).open=function(e,t){if(this.readyState!=Ir)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cr(this)},de.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ye).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ar(this)),this.readyState=Ir},de.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ye.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xr(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},de.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ar(this):Cr(this),3==this.readyState&&xr(this)}},de.Ua=function(e){this.g&&(this.response=this.responseText=e,Ar(this))},de.Ta=function(e){this.g&&(this.response=e,Ar(this))},de.ha=function(){this.g&&Ar(this)},de.setRequestHeader=function(e,t){this.v.append(e,t)},de.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},de.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Nr=ye.JSON.parse;function Dr(e){Nt.call(this),this.headers=new Vn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Pr,this.K=this.L=!1}Ie(Dr,Nt);var Pr="",Rr=/^https?$/i,Or=["POST","PUT"];function Lr(e){return"content-type"==e.toLowerCase()}function Mr(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Fr(e),Ur(e)}function Fr(e){e.D||(e.D=!0,Dt(e,"complete"),Dt(e,"error"))}function Vr(e){if(e.h&&"undefined"!=typeof ve&&(!e.C[1]||4!=Br(e)||2!=e.ba()))if(e.v&&4==Br(e))Ht(e.Fa,0,e);else if(Dt(e,"readystatechange"),4==Br(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Bn)[1]||null;if(!o&&ye.self&&ye.self.location){var a=ye.self.location.protocol;o=a.substr(0,a.length-1)}i=!Rr.test(o?o.toLowerCase():"")}t=i}if(t)Dt(e,"complete"),Dt(e,"success");else{e.m=6;try{var s=2<Br(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Fr(e)}}finally{Ur(e)}}}function Ur(e,t){if(e.g){jr(e);var n=e.g,r=e.C[0]?me:null;e.g=null,e.C=null,t||Dt(e,"ready");try{n.onreadystatechange=r}catch(Vp){}}}function jr(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ye.clearTimeout(e.A),e.A=null)}function Br(e){return e.g?e.g.readyState:0}function qr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Pr:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function zr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return je(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Gn(e,t,n))}function Kr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qr(e){this.za=0,this.l=[],this.h=new Zt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kr("baseRetryDelayMs",5e3,e),this.$a=Kr("retryDelaySeedMs",1e4,e),this.Ya=Kr("forwardChannelMaxRetries",2,e),this.ra=Kr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new fr(e&&e.concurrentRequestLimit),this.Ca=new Er,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Hr(e){if(Gr(e),3==e.G){var t=e.V++,n=zn(e.F);Gn(n,"SID",e.J),Gn(n,"RID",t),Gn(n,"TYPE","terminate"),Jr(e,n),(t=new En(e,e.h,t,void 0)).K=2,t.v=Yn(zn(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon&&(n=ye.navigator.sendBeacon(t.v.toString(),"")),!n&&ye.Image&&((new Image).src=t.v,n=!0),n||(t.g=li(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Dn(t)}ui(e)}function Wr(e){e.g&&(ni(e),e.g.cancel(),e.g=null)}function Gr(e){Wr(e),e.u&&(ye.clearTimeout(e.u),e.u=null),ii(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ye.clearTimeout(e.m),e.m=null)}function Yr(e,t){e.l.push(new lr(e.Za++,t)),3==e.G&&Xr(e)}function Xr(e){pr(e.i)||e.m||(e.m=!0,jt(e.Ha,e),e.C=0)}function $r(e,t){var n;n=t?t.m:e.V++;var r=zn(e.F);Gn(r,"SID",e.J),Gn(r,"RID",n),Gn(r,"AID",e.U),Jr(e,r),e.o&&e.s&&zr(r,e.o,e.s),n=new En(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Zr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),mr(e.i,n),In(n,r,t)}function Jr(e,t){e.j&&Fn({},(function(e,n){Gn(t,n,e)}))}function Zr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Te(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Sr(l,a,"req"+c+"_")}catch(Qi){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ei(e){e.g||e.u||(e.Y=1,jt(e.Ga,e),e.A=0)}function ti(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ln(Te(e.Ga,e),ai(e,e.A)),e.A++,!0)}function ni(e){null!=e.B&&(ye.clearTimeout(e.B),e.B=null)}function ri(e){e.g=new En(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=zn(e.oa);Gn(t,"RID","rpc"),Gn(t,"SID",e.J),Gn(t,"CI",e.N?"0":"1"),Gn(t,"AID",e.U),Jr(e,t),Gn(t,"TYPE","xmlhttp"),e.o&&e.s&&zr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Yn(zn(t)),n.s=null,n.U=!0,xn(n,e)}function ii(e){null!=e.v&&(ye.clearTimeout(e.v),e.v=null)}function oi(e,t){var n=null;if(e.g==t){ii(e),ni(e),e.g=null;var r=2}else{if(!yr(e.i,t))return;n=t.D,gr(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Dt(r=rn(),new cn(r,n,t,i)),Xr(e)}else ei(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(vr(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ln(Te(e.Ha,e,t),ai(e,e.C)),e.C++,!0))}(e,t)||2==r&&ti(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:si(e,5);break;case 4:si(e,10);break;case 3:si(e,6);break;default:si(e,2)}}function ai(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function si(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Te(e.jb,e);n||(n=new qn("//www.google.com/images/cleardot.gif"),ye.location&&"http"==ye.location.protocol||Kn(n,"https"),Yn(n)),function(e,t){var n=new Zt;if(ye.Image){var r=new Image;r.onload=ke(_r,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ke(_r,n,r,"TestLoadImage: error",!1,t),r.onabort=ke(_r,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ke(_r,n,r,"TestLoadImage: timeout",!1,t),ye.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else un(2);e.G=0,e.j&&e.j.va(t),ui(e),Gr(e)}function ui(e){e.G=0,e.I=-1,e.j&&(0==br(e.i).length&&0==e.l.length||(e.i.i.length=0,Pe(e.l),e.l.length=0),e.j.ua())}function ci(e,t,n){var r=function(e){return e instanceof qn?zn(e):new qn(e,void 0)}(n);if(""!=r.i)t&&Qn(r,t+"."+r.i),Hn(r,r.m);else{var i=ye.location;r=function(e,t,n,r){var i=new qn(null,void 0);return e&&Kn(i,e),t&&Qn(i,t),n&&Hn(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&je(e.aa,(function(e,t){Gn(r,t,e)})),t=e.D,n=e.sa,t&&n&&Gn(r,t,n),Gn(r,"VER",e.ma),Jr(e,r),r}function li(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Dr(new Tr({ib:!0})):new Dr(e.qa)).L=e.H,t}function fi(){}function hi(){if(We&&!(10<=Number(at)))throw Error("Environmental error: no available transport.")}function di(e,t){Nt.call(this),this.g=new Qr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Re(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Re(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yi(this)}function pi(e){gn.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vi(){bn.call(this),this.status=1}function yi(e){this.g=e}(de=Dr.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yn.g(),this.C=this.u?pn(this.u):pn(yn),this.g.onreadystatechange=Te(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Mr(this,o)}e=n||"";var i=new Vn(this.headers);r&&Fn(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Lr,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ye.FormData&&e instanceof ye.FormData,!(0<=Ce(Or,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jr(this),0<this.B&&((this.K=function(e){return We&&it()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Te(this.pa,this)):this.A=Ht(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Mr(this,o)}},de.pa=function(){"undefined"!=typeof ve&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))},de.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Dt(this,"complete"),Dt(this,"abort"),Ur(this))},de.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ur(this,!0)),Dr.Z.M.call(this)},de.Fa=function(){this.s||(this.F||this.v||this.l?Vr(this):this.cb())},de.cb=function(){Vr(this)},de.ba=function(){try{return 2<Br(this)?this.g.status:-1}catch(hr){return-1}},de.ga=function(){try{return this.g?this.g.responseText:""}catch(hr){return""}},de.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Nr(t)}},de.Da=function(){return this.m},de.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(de=Qr.prototype).ma=8,de.G=1,de.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},de.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new En(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ze(n=Be(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Zr(this,t,r),Gn(i=zn(this.F),"RID",e),Gn(i,"CVER",22),this.D&&Gn(i,"X-HTTP-Session-Id",this.D),Jr(this,i),this.o&&n&&zr(i,this.o,n),mr(this.i,t),this.Ra&&Gn(i,"TYPE","init"),this.ja?(Gn(i,"$req",r),Gn(i,"SID","null"),t.$=!0,In(t,i,null)):In(t,i,r),this.G=2}}else 3==this.G&&(e?$r(this,e):0==this.l.length||pr(this.i)||$r(this))},de.Ga=function(){if(this.u=null,ri(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ln(Te(this.bb,this),e)}},de.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,un(10),Wr(this),ri(this))},de.ab=function(){null!=this.v&&(this.v=null,Wr(this),ti(this),un(19))},de.jb=function(e){e?(this.h.info("Successfully pinged google.com"),un(2)):(this.h.info("Failed to ping google.com"),un(1))},(de=fi.prototype).xa=function(){},de.wa=function(){},de.va=function(){},de.ua=function(){},de.Oa=function(){},hi.prototype.g=function(e,t){return new di(e,t)},Ie(di,Nt),di.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),jt(Te(e.hb,e,t))),un(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ci(e,null,e.W),Xr(e)},di.prototype.close=function(){Hr(this.g)},di.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Yr(this.g,t)}else this.v?((t={}).__data__=Rt(e),Yr(this.g,t)):Yr(this.g,e)},di.prototype.M=function(){this.g.j=null,delete this.j,Hr(this.g),delete this.g,di.Z.M.call(this)},Ie(pi,gn),Ie(vi,bn),Ie(yi,fi),yi.prototype.xa=function(){Dt(this.g,"a")},yi.prototype.wa=function(e){Dt(this.g,new pi(e))},yi.prototype.va=function(e){Dt(this.g,new vi(e))},yi.prototype.ua=function(){Dt(this.g,"b")},hi.prototype.createWebChannel=hi.prototype.g,di.prototype.send=di.prototype.u,di.prototype.open=di.prototype.m,di.prototype.close=di.prototype.close,fn.NO_ERROR=0,fn.TIMEOUT=8,fn.HTTP_ERROR=6,hn.COMPLETE="complete",vn.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",Nt.prototype.listen=Nt.prototype.N,Dr.prototype.listenOnce=Dr.prototype.O,Dr.prototype.getLastError=Dr.prototype.La,Dr.prototype.getLastErrorCode=Dr.prototype.Da,Dr.prototype.getStatus=Dr.prototype.ba,Dr.prototype.getResponseJson=Dr.prototype.Qa,Dr.prototype.getResponseText=Dr.prototype.ga,Dr.prototype.send=Dr.prototype.ea;var mi=function(){return new hi},gi=function(){return rn()},bi=fn,wi=hn,Ei=tn,Si={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_i=Tr,Ti=vn,ki=Dr,Ii=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Ii.o=-1;var xi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ai=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return f(t,e),t}(Error),Ci=new W("@firebase/firestore");function Ni(){return Ci.logLevel}function Di(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ci.logLevel<=j.DEBUG){var r=t.map(Oi);Ci.debug.apply(Ci,m(["Firestore (8.10.1): "+e],r))}}function Pi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ci.logLevel<=j.ERROR){var r=t.map(Oi);Ci.error.apply(Ci,m(["Firestore (8.10.1): "+e],r))}}function Ri(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ci.logLevel<=j.WARN){var r=t.map(Oi);Ci.warn.apply(Ci,m(["Firestore (8.10.1): "+e],r))}}function Oi(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Li(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Pi(t),new Error(t)}function Mi(e,t){e||Li()}function Fi(e,t){return e}function Vi(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ui=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Vi(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function ji(e,t){return e<t?-1:e>t?1:0}function Bi(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function qi(e){return e+"\0"}var zi=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ai(xi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ai(xi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ai(xi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ai(xi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?ji(this.nanoseconds,e.nanoseconds):ji(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ki=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new zi(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Qi(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Gi=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Li(),void 0===n?n=e.length-t:n>e.length-t&&Li(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Yi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Ai(xi.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Gi),Xi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Xi.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ai(xi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ai(xi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ai(xi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ai(xi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Gi),Ji=function(){function e(e){this.fields=e,e.sort($i.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Bi(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Zi=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return ji(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Zi.EMPTY_BYTE_STRING=new Zi("");var eo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(e){if(Mi(!!e),"string"==typeof e){var t=0,n=eo.exec(e);if(Mi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:no(e.seconds),nanos:no(e.nanos)}}function no(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ro(e){return"string"==typeof e?Zi.fromBase64String(e):Zi.fromUint8Array(e)}function io(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oo(e){var t=e.mapValue.fields.__previous_value__;return io(t)?oo(t):t}function ao(e){var t=to(e.mapValue.fields.__local_write_time__.timestampValue);return new zi(t.seconds,t.nanos)}function so(e){return null==e}function uo(e){return 0===e&&1/e==-1/0}function co(e){return"number"==typeof e&&Number.isInteger(e)&&!uo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var lo=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Yi.fromString(t))},e.fromName=function(t){return new e(Yi.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Yi.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Yi.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Yi(t.slice()))},e}();function fo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?io(e)?4:10:Li()}function ho(e,t){var n=fo(e);if(n!==fo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ao(e).isEqual(ao(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=to(e.timestampValue),r=to(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ro(e.bytesValue).isEqual(ro(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return no(e.geoPointValue.latitude)===no(t.geoPointValue.latitude)&&no(e.geoPointValue.longitude)===no(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return no(e.integerValue)===no(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=no(e.doubleValue),r=no(t.doubleValue);return n===r?uo(n)===uo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Bi(e.arrayValue.values||[],t.arrayValue.values||[],ho);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qi(n)!==Qi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ho(n[i],r[i])))return!1;return!0}(e,t);default:return Li()}}function po(e,t){return void 0!==(e.values||[]).find((function(e){return ho(e,t)}))}function vo(e,t){var n=fo(e),r=fo(t);if(n!==r)return ji(n,r);switch(n){case 0:return 0;case 1:return ji(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=no(e.integerValue||e.doubleValue),r=no(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return yo(e.timestampValue,t.timestampValue);case 4:return yo(ao(e),ao(t));case 5:return ji(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ro(e),r=ro(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ji(n[i],r[i]);if(0!==o)return o}return ji(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ji(no(e.latitude),no(t.latitude));return 0!==n?n:ji(no(e.longitude),no(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=vo(n[i],r[i]);if(o)return o}return ji(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ji(r[a],o[a]);if(0!==s)return s;var u=vo(n[r[a]],i[o[a]]);if(0!==u)return u}return ji(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Li()}}function yo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ji(e,t);var n=to(e),r=to(t),i=ji(n.seconds,r.seconds);return 0!==i?i:ji(n.nanos,r.nanos)}function mo(e){return go(e)}function go(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=to(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ro(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,lo.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=go(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+go(e.fields[o])}return t+"}"}(e.mapValue):Li();var t,n}function bo(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function wo(e){return!!e&&"integerValue"in e}function Eo(e){return!!e&&"arrayValue"in e}function So(e){return!!e&&"nullValue"in e}function _o(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function To(e){return!!e&&"mapValue"in e}function ko(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Hi(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ko(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ko(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Io=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!To(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(t)},e.prototype.setAll=function(e){var t=this,n=$i.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=ko(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());To(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return ho(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];To(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Hi(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(ko(this.value))},e}();function xo(e){var t=[];return Hi(e.fields,(function(e,n){var r=new $i([e]);if(To(n)){var i=xo(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Ji(t)}var Ao=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Ki.min(),Io.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Io.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Io.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Io.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Io.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Co=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function No(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Co(e,t,n,r,i,o,a)}function Do(e){var t=Fi(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+mo(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),so(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ko(t.startAt)),t.endAt&&(n+="|ub:",n+=Ko(t.endAt)),t.h=n}return t.h}function Po(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ho(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ho(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Go(e.startAt,t.startAt)&&Go(e.endAt,t.endAt)}function Ro(e){return lo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Oo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return f(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Lo(e,n,r):"array-contains"===n?new Uo(e,r):"in"===n?new jo(e,r):"not-in"===n?new Bo(e,r):"array-contains-any"===n?new qo(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Mo(e,n):new Fo(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(vo(t,this.value)):null!==t&&fo(this.value)===fo(t)&&this.m(vo(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Li()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Lo=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=lo.fromName(r.referenceValue),i}return f(t,e),t.prototype.matches=function(e){var t=lo.comparator(e.key,this.key);return this.m(t)},t}(Oo),Mo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Vo("in",n),r}return f(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Oo),Fo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Vo("not-in",n),r}return f(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Oo);function Vo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return lo.fromName(e.referenceValue)}))}var Uo=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return f(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Eo(t)&&po(t.arrayValue,this.value)},t}(Oo),jo=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return f(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&po(this.value.arrayValue,t)},t}(Oo),Bo=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return f(t,e),t.prototype.matches=function(e){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!po(this.value.arrayValue,t)},t}(Oo),qo=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return f(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Eo(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return po(t.value.arrayValue,e)}))},t}(Oo),zo=function(e,t){this.position=e,this.before=t};function Ko(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return mo(e)})).join(",")}var Qo=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ho(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Wo(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?lo.comparator(lo.fromName(a.referenceValue),n.key):vo(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Go(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ho(e.position[n],t.position[n]))return!1;return!0}var Yo=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Xo(e,t,n,r,i,o,a,s){return new Yo(e,t,n,r,i,o,a,s)}function $o(e){return new Yo(e)}function Jo(e){return!so(e.limit)&&"F"===e.limitType}function Zo(e){return!so(e.limit)&&"L"===e.limitType}function ea(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ta(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function na(e){return null!==e.collectionGroup}function ra(e){var t=Fi(e);if(null===t.p){t.p=[];var n=ta(t),r=ea(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Qo(n)),t.p.push(new Qo($i.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Qo($i.keyField(),u))}}}return t.p}function ia(e){var t=Fi(e);if(!t.T)if("F"===t.limitType)t.T=No(t.path,t.collectionGroup,ra(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=ra(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Qo(o.field,a))}var s=t.endAt?new zo(t.endAt.position,!t.endAt.before):null,u=t.startAt?new zo(t.startAt.position,!t.startAt.before):null;t.T=No(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function oa(e,t,n){return new Yo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function aa(e,t){return Po(ia(e),ia(t))&&e.limitType===t.limitType}function sa(e){return Do(ia(e))+"|lt:"+e.limitType}function ua(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+mo(t.value);var t})).join(", ")+"]"),so(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ko(e.startAt)),e.endAt&&(t+=", endAt: "+Ko(e.endAt)),"Target("+t+")"}(ia(e))+"; limitType="+e.limitType+")"}function ca(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):lo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Wo(e.startAt,ra(e),t))&&(!e.endAt||!Wo(e.endAt,ra(e),t))}(e,t)}function la(e){return function(t,n){for(var r=!1,i=0,o=ra(e);i<o.length;i++){var a=o[i],s=fa(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function fa(e,t,n){var r=e.field.isKeyField()?lo.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?vo(r,i):Li()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Li()}}function ha(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uo(t)?"-0":t}}function da(e){return{integerValue:""+e}}function pa(e,t){return co(t)?da(t):ha(e,t)}var va=function(){this._=void 0};function ya(e,t,n){return e instanceof ba?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wa?Ea(e,t):e instanceof Sa?_a(e,t):function(e,t){var n=ga(e,t),r=ka(n)+ka(e.A);return wo(n)&&wo(e.A)?da(r):ha(e.R,r)}(e,t)}function ma(e,t,n){return e instanceof wa?Ea(e,t):e instanceof Sa?_a(e,t):n}function ga(e,t){return e instanceof Ta?wo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ba=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t}(va),wa=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return f(t,e),t}(va);function Ea(e,t){for(var n=Ia(t),r=function(e){n.some((function(t){return ho(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sa=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return f(t,e),t}(va);function _a(e,t){for(var n=Ia(t),r=function(e){n=n.filter((function(t){return!ho(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ta=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return f(t,e),t}(va);function ka(e){return no(e.integerValue||e.doubleValue)}function Ia(e){return Eo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var xa=function(e,t){this.field=e,this.transform=t},Aa=function(e,t){this.version=e,this.transformResults=t},Ca=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Na(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Da=function(){};function Pa(e,t,n){e instanceof Fa?function(e,t,n){var r=e.value.clone(),i=ja(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Va?function(e,t,n){if(Na(e.precondition,t)){var r=ja(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ua(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ra(e,t,n){e instanceof Fa?function(e,t,n){if(Na(e.precondition,t)){var r=e.value.clone(),i=Ba(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ma(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Va?function(e,t,n){if(Na(e.precondition,t)){var r=Ba(e.fieldTransforms,n,t),i=t.data;i.setAll(Ua(e)),i.setAll(r),t.convertToFoundDocument(Ma(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Na(e.precondition,t)&&t.convertToNoDocument(Ki.min())}(e,t)}function Oa(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=ga(o.transform,a||null);null!=s&&(null==n&&(n=Io.empty()),n.set(o.field,s))}return n||null}function La(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Bi(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wa&&t instanceof wa||e instanceof Sa&&t instanceof Sa?Bi(e.elements,t.elements,ho):e instanceof Ta&&t instanceof Ta?ho(e.A,t.A):e instanceof ba&&t instanceof ba}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ma(e){return e.isFoundDocument()?e.version:Ki.min()}var Fa=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return f(t,e),t}(Da),Va=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return f(t,e),t}(Da);function Ua(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ja(e,t,n){var r=new Map;Mi(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,ma(a,s,n[i]))}return r}function Ba(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ya(s,u,t))}return r}var qa,za,Ka=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return f(t,e),t}(Da),Qa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return f(t,e),t}(Da),Ha=function(e){this.count=e};function Wa(e){switch(e){case xi.OK:return Li();case xi.CANCELLED:case xi.UNKNOWN:case xi.DEADLINE_EXCEEDED:case xi.RESOURCE_EXHAUSTED:case xi.INTERNAL:case xi.UNAVAILABLE:case xi.UNAUTHENTICATED:return!1;case xi.INVALID_ARGUMENT:case xi.NOT_FOUND:case xi.ALREADY_EXISTS:case xi.PERMISSION_DENIED:case xi.FAILED_PRECONDITION:case xi.ABORTED:case xi.OUT_OF_RANGE:case xi.UNIMPLEMENTED:case xi.DATA_LOSS:return!0;default:return Li()}}function Ga(e){if(void 0===e)return Pi("GRPC error has no .code"),xi.UNKNOWN;switch(e){case qa.OK:return xi.OK;case qa.CANCELLED:return xi.CANCELLED;case qa.UNKNOWN:return xi.UNKNOWN;case qa.DEADLINE_EXCEEDED:return xi.DEADLINE_EXCEEDED;case qa.RESOURCE_EXHAUSTED:return xi.RESOURCE_EXHAUSTED;case qa.INTERNAL:return xi.INTERNAL;case qa.UNAVAILABLE:return xi.UNAVAILABLE;case qa.UNAUTHENTICATED:return xi.UNAUTHENTICATED;case qa.INVALID_ARGUMENT:return xi.INVALID_ARGUMENT;case qa.NOT_FOUND:return xi.NOT_FOUND;case qa.ALREADY_EXISTS:return xi.ALREADY_EXISTS;case qa.PERMISSION_DENIED:return xi.PERMISSION_DENIED;case qa.FAILED_PRECONDITION:return xi.FAILED_PRECONDITION;case qa.ABORTED:return xi.ABORTED;case qa.OUT_OF_RANGE:return xi.OUT_OF_RANGE;case qa.UNIMPLEMENTED:return xi.UNIMPLEMENTED;case qa.DATA_LOSS:return xi.DATA_LOSS;default:return Li()}}(za=qa||(qa={}))[za.OK=0]="OK",za[za.CANCELLED=1]="CANCELLED",za[za.UNKNOWN=2]="UNKNOWN",za[za.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",za[za.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",za[za.NOT_FOUND=5]="NOT_FOUND",za[za.ALREADY_EXISTS=6]="ALREADY_EXISTS",za[za.PERMISSION_DENIED=7]="PERMISSION_DENIED",za[za.UNAUTHENTICATED=16]="UNAUTHENTICATED",za[za.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",za[za.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",za[za.ABORTED=10]="ABORTED",za[za.OUT_OF_RANGE=11]="OUT_OF_RANGE",za[za.UNIMPLEMENTED=12]="UNIMPLEMENTED",za[za.INTERNAL=13]="INTERNAL",za[za.UNAVAILABLE=14]="UNAVAILABLE",za[za.DATA_LOSS=15]="DATA_LOSS";var Ya=function(){function e(e,t){this.comparator=e,this.root=t||$a.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$a.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$a.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Xa(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Xa(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Xa(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Xa(this.root,e,this.comparator,!0)},e}(),Xa=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),$a=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Li();if(this.right.isRed())throw Li();var e=this.left.check();if(e!==this.right.check())throw Li();return e+(this.isRed()?0:1)},e}();$a.EMPTY=null,$a.RED=!0,$a.BLACK=!1,$a.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Li()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Li()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Li()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Li()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Li()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new $a(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Ja=function(){function e(e){this.comparator=e,this.data=new Ya(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Za(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Za(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Za=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),es=new Ya(lo.comparator);function ts(){return es}var ns=new Ya(lo.comparator);function rs(){return ns}var is=new Ya(lo.comparator);function os(){return is}var as=new Ja(lo.comparator);function ss(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=as,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var us=new Ja(ji);function cs(){return us}var ls=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,fs.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ki.min(),r,cs(),ts(),ss())},e}(),fs=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Zi.EMPTY_BYTE_STRING,n,ss(),ss(),ss())},e}(),hs=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},ds=function(e,t){this.targetId=e,this.V=t},ps=function(e,t,n,r){void 0===n&&(n=Zi.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},vs=function(){function e(){this.S=0,this.D=gs(),this.C=Zi.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=ss(),t=ss(),n=ss();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Li()}})),new fs(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=gs()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ys=function(){function e(e){this.W=e,this.G=new Map,this.H=ts(),this.J=ms(),this.Y=new Ja(ji)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Li()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Ro(i))if(0===n){var o=new lo(i.path);this.tt(t,o,Ao.newNoDocument(o,Ki.min()))}else Mi(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Ro(o.target)){var a=new lo(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Ao.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=ss();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new ls(e,n,this.Y,this.H,r);return this.H=ts(),this.J=ms(),this.Y=new Ja(ji),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new vs,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Ja(ji),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Di("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new vs),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function ms(){return new Ya(lo.comparator)}function gs(){return new Ya(lo.comparator)}var bs={asc:"ASCENDING",desc:"DESCENDING"},ws={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Es=function(e,t){this.databaseId=e,this.I=t};function Ss(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function _s(e,t){return e.I?t.toBase64():t.toUint8Array()}function Ts(e,t){return Ss(e,t.toTimestamp())}function ks(e){return Mi(!!e),Ki.fromTimestamp(function(e){var t=to(e);return new zi(t.seconds,t.nanos)}(e))}function Is(e,t){return function(e){return new Yi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function xs(e){var t=Yi.fromString(e);return Mi($s(t)),t}function As(e,t){return Is(e.databaseId,t.path)}function Cs(e,t){var n=xs(t);if(n.get(1)!==e.databaseId.projectId)throw new Ai(xi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ai(xi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new lo(Rs(n))}function Ns(e,t){return Is(e.databaseId,t)}function Ds(e){var t=xs(e);return 4===t.length?Yi.emptyPath():Rs(t)}function Ps(e){return new Yi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rs(e){return Mi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Os(e,t,n){return{name:As(e,t),fields:n.value.mapValue.fields}}function Ls(e,t,n){var r=Cs(e,t.name),i=ks(t.updateTime),o=new Io({mapValue:{fields:t.fields}}),a=Ao.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ms(e,t){var n;if(t instanceof Fa)n={update:Os(e,t.key,t.value)};else if(t instanceof Ka)n={delete:As(e,t.key)};else if(t instanceof Va)n={update:Os(e,t.key,t.data),updateMask:Xs(t.fieldMask)};else{if(!(t instanceof Qa))return Li();n={verify:As(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ba)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ta)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Li()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ts(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Li()}(e,t.precondition)),n}function Fs(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ca.updateTime(ks(e.updateTime)):void 0!==e.exists?Ca.exists(e.exists):Ca.none()}(t.currentDocument):Ca.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Mi("REQUEST_TIME"===t.setToServerValue),n=new ba;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new wa(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Sa(i)}else"increment"in t?n=new Ta(e,t.increment):Li();var o=$i.fromServerFormat(t.fieldPath);return new xa(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Cs(e,t.update.name),o=new Io({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Ji(t.map((function(e){return $i.fromServerFormat(e)})))}(t.updateMask);return new Va(i,o,a,n,r)}return new Fa(i,o,n,r)}if(t.delete){var s=Cs(e,t.delete);return new Ka(s,n)}if(t.verify){var u=Cs(e,t.verify);return new Qa(u,n)}return Li()}function Vs(e,t){return{documents:[Ns(e,t.path)]}}function Us(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ns(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ns(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(_o(e.value))return{unaryFilter:{field:Hs(e.field),op:"IS_NAN"}};if(So(e.value))return{unaryFilter:{field:Hs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_o(e.value))return{unaryFilter:{field:Hs(e.field),op:"IS_NOT_NAN"}};if(So(e.value))return{unaryFilter:{field:Hs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(e.field),op:Qs(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Hs(e.field),direction:Ks(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||so(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=qs(t.startAt)),t.endAt&&(n.structuredQuery.endAt=qs(t.endAt)),n}function js(e){var t=Ds(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Bs(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Qo(Ws(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return so(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=zs(n.startAt));var l=null;return n.endAt&&(l=zs(n.endAt)),Xo(t,i,s,a,u,"F",c,l)}function Bs(e){return e?void 0!==e.unaryFilter?[Ys(e)]:void 0!==e.fieldFilter?[Gs(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Bs(e)})).reduce((function(e,t){return e.concat(t)})):Li():[]}function qs(e){return{before:e.before,values:e.position}}function zs(e){var t=!!e.before,n=e.values||[];return new zo(n,t)}function Ks(e){return bs[e]}function Qs(e){return ws[e]}function Hs(e){return{fieldPath:e.canonicalString()}}function Ws(e){return $i.fromServerFormat(e.fieldPath)}function Gs(e){return Oo.create(Ws(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Li()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ys(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ws(e.unaryFilter.field);return Oo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ws(e.unaryFilter.field);return Oo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ws(e.unaryFilter.field);return Oo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ws(e.unaryFilter.field);return Oo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Li()}}function Xs(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function $s(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Js(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=eu(t)),t=Zs(e.get(n),t);return eu(t)}function Zs(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function eu(e){return e+"\x01\x01"}function tu(e){var t=e.length;if(Mi(t>=2),2===t)return Mi("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Yi.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Li(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Li()}o=a+2}return new Yi(r)}var nu=function(e,t){this.seconds=e,this.nanoseconds=t},ru=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ru.store="owner",ru.key="owner";var iu=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};iu.store="mutationQueues",iu.keyPath="userId";var ou=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ou.store="mutations",ou.keyPath="batchId",ou.userMutationsIndex="userMutationsIndex",ou.userMutationsKeyPath=["userId","batchId"];var au=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Js(t)]},e.key=function(e,t,n){return[e,Js(t),n]},e}();au.store="documentMutations",au.PLACEHOLDER=new au;var su=function(e,t){this.path=e,this.readTime=t},uu=function(e,t){this.path=e,this.version=t},cu=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};cu.store="remoteDocuments",cu.readTimeIndex="readTimeIndex",cu.readTimeIndexPath="readTime",cu.collectionReadTimeIndex="collectionReadTimeIndex",cu.collectionReadTimeIndexPath=["parentPath","readTime"];var lu=function(e){this.byteSize=e};lu.store="remoteDocumentGlobal",lu.key="remoteDocumentGlobalKey";var fu=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};fu.store="targets",fu.keyPath="targetId",fu.queryTargetsIndexName="queryTargetsIndex",fu.queryTargetsKeyPath=["canonicalId","targetId"];var hu=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};hu.store="targetDocuments",hu.keyPath=["targetId","path"],hu.documentTargetsIndex="documentTargetsIndex",hu.documentTargetsKeyPath=["path","targetId"];var du=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};du.key="targetGlobalKey",du.store="targetGlobal";var pu=function(e,t){this.collectionId=e,this.parent=t};pu.store="collectionParents",pu.keyPath=["collectionId","parent"];var vu=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};vu.store="clientMetadata",vu.keyPath="clientId";var yu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};yu.store="bundles",yu.keyPath="bundleId";var mu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};mu.store="namedQueries",mu.keyPath="name";var gu=m(m([],m(m([],m(m([],m(m([],[iu.store,ou.store,au.store,cu.store,fu.store,ru.store,du.store,hu.store]),[vu.store])),[lu.store])),[pu.store])),[yu.store,mu.store]),bu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wu=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Eu=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Su=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Li(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),_u=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Eu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Iu(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Du(t.target.error);n.ft.reject(new Iu(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Iu(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Di("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Au(t)},e}(),Tu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(_())&&Pi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Di("SimpleDb","Removing database:",e),Cu(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=_(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/chemical-elements",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDiL4xOAMM9yg-o1dIWhFJwCRS-CwzkSy0",REACT_APP_APP_ID:"1:63590157971:web:140ef36352f636747b0766",REACT_APP_AUTH_DOMAIN:"chemistry-aa476.firebaseapp.com",REACT_APP_PROJECT_ID:"chemistry-aa476",REACT_APP_SENDER_ID:"63590157971",REACT_APP_STORAGE_BUCKET:"chemistry-aa476.appspot.com"})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return d(this,void 0,void 0,(function(){var t,n=this;return p(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Di("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Iu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Ai(xi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Iu(e,n))},i.onupgradeneeded=function(e){Di("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Di("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return d(this,void 0,void 0,(function(){var i,o,a,s,u;return p(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return p(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=_u.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Su.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,Di("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ku=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Cu(this.Pt.delete())},e}(),Iu=function(e){function t(t,n){var r=this;return(r=e.call(this,xi.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return f(t,e),t}(Ai);function xu(e){return"IndexedDbTransactionError"===e.name}var Au=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Di("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Di("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Cu(n)},e.prototype.add=function(e){return Di("SimpleDb","ADD",this.store.name,e,e),Cu(this.store.add(e))},e.prototype.get=function(e){var t=this;return Cu(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Di("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Di("SimpleDb","DELETE",this.store.name,e),Cu(this.store.delete(e))},e.prototype.count=function(){return Di("SimpleDb","COUNT",this.store.name),Cu(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){Di("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Su((function(n,r){t.onerror=function(e){var t=Du(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Su((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new ku(i),a=t(i.primaryKey,i.value,o);if(a instanceof Su){var s=a.catch((function(e){return o.done(),Su.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Su.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Cu(e){return new Su((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Du(e.target.error);n(t)}}))}var Nu=!1;function Du(e){var t=Tu._t(_());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ai("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Nu||(Nu=!0,setTimeout((function(){throw r}),0)),r}}return e}var Pu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return f(t,e),t}(wu);function Ru(e,t){var n=Fi(e);return Tu.It(n.Mt,t)}var Ou=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Pa(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Ra(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Ra(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ki.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ss())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Bi(this.mutations,e.mutations,(function(e,t){return La(e,t)}))&&Bi(this.baseMutations,e.baseMutations,(function(e,t){return La(e,t)}))},e}(),Lu=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Mi(t.mutations.length===r.length);for(var i=os(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Mu=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Ki.min()),void 0===o&&(o=Ki.min()),void 0===a&&(a=Zi.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Fu=function(e){this.Lt=e};function Vu(e,t){if(t.document)return Ls(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=lo.fromSegments(t.noDocument.path),r=zu(t.noDocument.readTime),i=Ao.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=lo.fromSegments(t.unknownDocument.path);return r=zu(t.unknownDocument.version),Ao.newUnknownDocument(o,r)}return Li()}function Uu(e,t,n){var r=ju(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:As(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ss(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new cu(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=qu(t.version);return a=t.hasCommittedMutations,new cu(null,new su(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=qu(t.version);return new cu(new uu(c,l),null,null,!0,r,i)}return Li()}function ju(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Bu(e){var t=new zi(e[0],e[1]);return Ki.fromTimestamp(t)}function qu(e){var t=e.toTimestamp();return new nu(t.seconds,t.nanoseconds)}function zu(e){var t=new zi(e.seconds,e.nanoseconds);return Ki.fromTimestamp(t)}function Ku(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Fs(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Fs(e.Lt,t)})),s=zi.fromMillis(t.localWriteTimeMs);return new Ou(t.batchId,s,n,a)}function Qu(e){var t,n,r=zu(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?zu(e.lastLimboFreeSnapshotVersion):Ki.min();return void 0!==e.query.documents?(Mi(1===(n=e.query).documents.length),t=ia($o(Ds(n.documents[0])))):t=function(e){return ia(js(e))}(e.query),new Mu(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Zi.fromBase64String(e.resumeToken))}function Hu(e,t){var n,r=qu(t.snapshotVersion),i=qu(t.lastLimboFreeSnapshotVersion);n=Ro(t.target)?Vs(e.Lt,t.target):Us(e.Lt,t.target);var o=t.resumeToken.toBase64();return new fu(t.targetId,Do(t.target),r,o,t.sequenceNumber,i,n)}function Wu(e){var t=js({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?oa(t,t.limit,"L"):t}var Gu=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Yu(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:zu(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Yu(e).put({bundleId:(n=t).id,createTime:qu(ks(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Xu(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Wu(t.bundledQuery),readTime:zu(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Xu(e).put(function(e){return{name:e.name,readTime:qu(ks(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Yu(e){return Ru(e,yu.store)}function Xu(e){return Ru(e,mu.store)}var $u=function(){function e(){this.Bt=new Ju}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Su.resolve()},e.prototype.getCollectionParents=function(e,t){return Su.resolve(this.Bt.getEntries(t))},e}(),Ju=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ja(Yi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Ja(Yi.comparator)).toArray()},e}(),Zu=function(){function e(){this.qt=new Ju}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Js(i)};return ec(e).put(o)}return Su.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[qi(t),""],!1,!0);return ec(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(tu(o.parent))}return n}))},e}();function ec(e){return Ru(e,pu.store)}var tc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nc=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function rc(e,t,n){var r=e.store(ou.store),i=e.store(au.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Mi(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=au.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Su.waitFor(o).next((function(){return c}))}function ic(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Li();t=e.noDocument}return JSON.stringify(t).length}nc.DEFAULT_COLLECTION_PERCENTILE=10,nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nc.DEFAULT=new nc(41943040,nc.DEFAULT_COLLECTION_PERCENTILE,nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nc.DISABLED=new nc(-1,0,0);var oc=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Mi(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sc(e).$t({index:ou.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=uc(e),a=sc(e);return a.add({}).next((function(s){Mi("number"==typeof s);for(var u=new Ou(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Ms(e.Lt,t)})),i=n.mutations.map((function(t){return Ms(e.Lt,t)}));return new ou(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new Ja((function(e,t){return ji(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=au.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,au.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Su.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return sc(e).get(t).next((function(e){return e?(Mi(e.userId===n.userId),Ku(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Su.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return sc(e).$t({index:ou.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Mi(t.batchId>=r),o=Ku(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sc(e).$t({index:ou.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sc(e).Nt(ou.userMutationsIndex,n).next((function(e){return e.map((function(e){return Ku(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=au.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return uc(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=tu(u);if(s===n.userId&&t.path.isEqual(l))return sc(e).get(c).next((function(e){if(!e)throw Li();Mi(e.userId===n.userId),o.push(Ku(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ja(ji),i=[];return t.forEach((function(t){var o=au.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=uc(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=tu(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Su.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=au.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ja(ji);return uc(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=tu(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(sc(e).get(t).next((function(e){if(null===e)throw Li();Mi(e.userId===n.userId),r.push(Ku(n.R,e))})))})),Su.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return rc(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Su.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Su.resolve();var r=IDBKeyRange.lowerBound(au.prefixForUser(t.userId)),i=[];return uc(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=tu(e[1]);i.push(o)}else r.done()})).next((function(){Mi(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return ac(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return cc(e).get(this.userId).next((function(e){return e||new iu(t.userId,-1,"")}))},e}();function ac(e,t,n){var r=au.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return uc(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function sc(e){return Ru(e,ou.store)}function uc(e){return Ru(e,au.store)}function cc(e){return Ru(e,iu.store)}var lc=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),fc=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new lc(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Ki.fromTimestamp(new zi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return hc(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Mi(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return hc(e).$t((function(a,s){var u=Qu(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Su.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return hc(e).$t((function(e,n){var r=Qu(n);t(r)}))},e.prototype.Xt=function(e){return dc(e).get(du.key).next((function(e){return Mi(null!==e),e}))},e.prototype.Zt=function(e,t){return dc(e).put(du.key,t)},e.prototype.te=function(e,t){return hc(e).put(Hu(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Do(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hc(e).$t({range:r,index:fu.queryTargetsIndexName},(function(e,n,r){var o=Qu(n);Po(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=pc(e);return t.forEach((function(t){var a=Js(t.path);i.push(o.put(new hu(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Su.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=pc(e);return Su.forEach(t,(function(t){var o=Js(t.path);return Su.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=pc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pc(e),i=ss();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=tu(e[1]),o=new lo(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Js(t.path),r=IDBKeyRange.bound([n],[qi(n)],!1,!0),i=0;return pc(e).$t({index:hu.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return hc(e).get(t).next((function(e){return e?Qu(e):null}))},e}();function hc(e){return Ru(e,fu.store)}function dc(e){return Ru(e,du.store)}function pc(e){return Ru(e,hu.store)}function vc(e){return d(this,void 0,void 0,(function(){return p(this,(function(t){if(e.code!==xi.FAILED_PRECONDITION||e.message!==bu)throw e;return Di("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function yc(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=ji(n,i);return 0===a?ji(r,o):a}var mc=function(){function e(e){this.ne=e,this.buffer=new Ja(yc),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();yc(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),gc=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Di("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return d(t,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return xu(t=n.sent())?(Di("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,vc(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),bc=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Su.resolve(Ii.o);var r=new mc(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Di("LruGarbageCollector","Garbage collection skipped; disabled"),Su.resolve(tc)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Di("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),tc):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Di("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Ni()<=j.DEBUG&&Di("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Su.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),wc=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new bc(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Ec(e,n)},e.prototype.removeReference=function(e,t,n){return Ec(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Ec(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return cc(e).Ot((function(r){return ac(e,r,t).next((function(e){return e&&(n=!0),Su.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),pc(e).delete([0,Js(a.path)])}))}));i.push(u)}})).next((function(){return Su.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Ec(e,t)},e.prototype.we=function(e,t){var n,r=pc(e),i=Ii.o;return r.$t({index:hu.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Ii.o&&t(new lo(tu(n)),i),i=s,n=a):i=Ii.o})).next((function(){i!==Ii.o&&t(new lo(tu(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Ec(e,t){return pc(e).put(function(e,t){return new hu(0,Js(e.path),t)}(t,e.currentSequenceNumber))}var Sc=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Hi(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Wi(this.inner)},e}(),_c=function(){function e(){this.changes=new Sc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Ki.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Ao.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Su.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Tc=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return xc(e).put(Ac(t),n)},e.prototype.removeEntry=function(e,t){var n=xc(e),r=Ac(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return xc(e).get(Ac(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return xc(e).get(Ac(t)).next((function(e){return{document:n.ye(t,e),size:ic(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=ts();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=ts(),i=new Ya(lo.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,ic(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Su.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return xc(e).$t({range:r},(function(e,t,r){for(var a=lo.fromSegments(e);o&&lo.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=ts(),o=t.path.length+1,a={};if(n.isEqual(Ki.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=ju(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=cu.collectionReadTimeIndex}return xc(e).$t(a,(function(e,n,a){if(e.length===o){var s=Vu(r.R,n);t.path.isPrefixOf(s.key.path)?ca(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new kc(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Ic(e).get(lu.key).next((function(e){return Mi(!!e),e}))},e.prototype.me=function(e,t){return Ic(e).put(lu.key,t)},e.prototype.ye=function(e,t){if(t){var n=Vu(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Ki.min()))return n}return Ao.newInvalidDocument(e)},e}(),kc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Sc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return f(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Ja((function(e,t){return ji(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Uu(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=ic(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Uu(t.Ie.R,Ao.newNoDocument(o,Ki.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Su.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(_c);function Ic(e){return Ru(e,lu.store)}function xc(e){return Ru(e,cu.store)}function Ac(e){return e.path.toArray()}var Cc=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Mi(n<r&&n>=0&&r<=11);var o=new _u("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ru.store)}(e),function(e){e.createObjectStore(iu.store,{keyPath:iu.keyPath}),e.createObjectStore(ou.store,{keyPath:ou.keyPath,autoIncrement:!0}).createIndex(ou.userMutationsIndex,ou.userMutationsKeyPath,{unique:!0}),e.createObjectStore(au.store)}(e),Nc(e),function(e){e.createObjectStore(cu.store)}(e));var a=Su.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(hu.store),e.deleteObjectStore(fu.store),e.deleteObjectStore(du.store)}(e),Nc(e)),a=a.next((function(){return function(e){var t=e.store(du.store),n=new du(0,0,Ki.min().toTimestamp(),0);return t.put(du.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(ou.store).Nt().next((function(n){e.deleteObjectStore(ou.store),e.createObjectStore(ou.store,{keyPath:ou.keyPath,autoIncrement:!0}).createIndex(ou.userMutationsIndex,ou.userMutationsKeyPath,{unique:!0});var r=t.store(ou.store),i=n.map((function(e){return r.put(e)}));return Su.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(vu.store,{keyPath:vu.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(lu.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(cu.store);t.createIndex(cu.readTimeIndex,cu.readTimeIndexPath,{unique:!1}),t.createIndex(cu.collectionReadTimeIndex,cu.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(yu.store,{keyPath:yu.keyPath})}(e),function(e){e.createObjectStore(mu.store,{keyPath:mu.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(cu.store).$t((function(e,n){t+=ic(n)})).next((function(){var n=new lu(t);return e.store(lu.store).put(lu.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(iu.store),r=e.store(ou.store);return n.Nt().next((function(n){return Su.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ou.userMutationsIndex,i).next((function(r){return Su.forEach(r,(function(r){Mi(r.userId===n.userId);var i=Ku(t.R,r);return rc(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(hu.store),n=e.store(cu.store);return e.store(du.store).get(du.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Yi(n),a=function(e){return[0,Js(e)]}(o);r.push(t.get(a).next((function(n){return n?Su.resolve():function(n){return t.put(new hu(0,Js(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Su.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(pu.store,{keyPath:pu.keyPath});var n=t.store(pu.store),r=new Ju,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Js(i)})}};return t.store(cu.store).$t({Ft:!0},(function(e,t){var n=new Yi(e);return i(n.popLast())})).next((function(){return t.store(au.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=tu(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(fu.store);return n.$t((function(e,r){var i=Qu(r),o=Hu(t.R,i);return n.put(o)}))},e}();function Nc(e){e.createObjectStore(hu.store,{keyPath:hu.keyPath}).createIndex(hu.documentTargetsIndex,hu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(fu.store,{keyPath:fu.keyPath}).createIndex(fu.queryTargetsIndexName,fu.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(du.store)}var Dc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Pc=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Ai(xi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wc(this,i),this.Le=n+"main",this.R=new Fu(u),this.Be=new Tu(this.Le,11,new Cc(this.R)),this.qe=new fc(this.referenceDelegate,this.R),this.Ut=new Zu,this.Ue=function(e,t){return new Tc(e,t)}(this.R,this.Ut),this.Ke=new Gu,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Pi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ai(xi.FAILED_PRECONDITION,Dc);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Ii(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return d(t,void 0,void 0,(function(){return p(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return d(t,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return d(t,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Oc(t).put(new vu(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(xu(t))return Di("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Di("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Rc(e).get(ru.key).next((function(e){return Su.resolve(t.tn(e))}))},e.prototype.en=function(e){return Oc(e).delete(this.clientId)},e.prototype.nn=function(){return d(this,void 0,void 0,(function(){var e,t,n,r,i=this;return p(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ru(e,vu.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Su.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Su.resolve(!0):Rc(e).get(ru.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Ai(xi.FAILED_PRECONDITION,Dc);return!1}}return!(!t.networkEnabled||!t.inForeground)||Oc(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Di("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return d(this,void 0,void 0,(function(){var e=this;return p(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ru.store,vu.store],(function(t){var n=new Pu(t,Ii.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Oc(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return oc.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Di("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,gu,(function(o){return i=new Pu(o,r.Ne?r.Ne.next():Ii.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Pi("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Ai(xi.FAILED_PRECONDITION,bu);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Rc(e).get(ru.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ai(xi.FAILED_PRECONDITION,Dc)}))},e.prototype.Ze=function(e){var t=new ru(this.clientId,this.allowTabSynchronization,Date.now());return Rc(e).put(ru.key,t)},e.yt=function(){return Tu.yt()},e.prototype.Xe=function(e){var t=this,n=Rc(e);return n.get(ru.key).next((function(e){return t.tn(e)?(Di("IndexedDbPersistence","Releasing primary lease."),n.delete(ru.key)):Su.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Pi("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!T()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Di("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Pi("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Pi("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Rc(e){return Ru(e,ru.store)}function Oc(e){return Ru(e,vu.store)}function Lc(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Mc=function(e,t){this.progress=e,this.wn=t},Fc=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return lo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):na(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new lo(t)).next((function(e){var t=rs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=rs();return this.Ut.getCollectionParents(e,i).next((function(a){return Su.forEach(a,(function(a){var s=function(e,t){return new Yo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Ao.newInvalidDocument(c),r=r.insert(c,l)),Ra(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){ca(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=ss(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Va&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Vc=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=ss(),i=ss(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Uc=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ki.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Jo(t)||Zo(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Ni()<=j.DEBUG&&Di("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ua(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Ja(la(e));return t.forEach((function(t,r){ca(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Ni()<=j.DEBUG&&Di("QueryEngine","Using full collection scan to execute query:",ua(t)),this.Sn.getDocumentsMatchingQuery(e,t,Ki.min())},e}(),jc=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Ya(ji),this.Fn=new Sc((function(e){return Do(e)}),Po),this.$n=Ki.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Fc(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function Bc(e,t,n,r){return new jc(e,t,n,r)}function qc(e,t){return d(this,void 0,void 0,(function(){var n,r,i,o;return p(this,(function(a){switch(a.label){case 0:return n=Fi(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Fc(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=ss(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];a=a.add(g.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function zc(e,t){var n=Fi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Su.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Mi(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Kc(e){var t=Fi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Qc(e,t){var n=Fi(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Mi(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=ts();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Hc(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Ki.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Su.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function Hc(e,t,n,r,i){var o=ss();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=ts();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ki.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Di("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Wc(e,t){var n=Fi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Gc(e,t){var n=Fi(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Su.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Mu(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function Yc(e,t,n){return d(this,void 0,void 0,(function(){var r,i,o,a;return p(this,(function(s){switch(s.label){case 0:r=Fi(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!xu(a=s.sent()))throw a;return Di("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function Xc(e,t,n){var r=Fi(e),i=Ki.min(),o=ss();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fi(e),i=r.Fn.get(n);return void 0!==i?Su.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,ia(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Ki.min(),n?o:ss())})).next((function(e){return{documents:e,Bn:o}}))}))}function $c(e,t){var n=Fi(e),r=Fi(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Jc(e){var t=Fi(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Fi(e),i=ts(),o=ju(n),a=xc(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:cu.readTimeIndex,range:s},(function(e,t){var n=Vu(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Bu(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Zc(e){return d(this,void 0,void 0,(function(){var t;return p(this,(function(n){return[2,(t=Fi(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=xc(e),n=Ki.min();return t.$t({index:cu.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Bu(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function el(e,t,n,r){return d(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return p(this,(function(p){switch(p.label){case 0:for(i=Fi(e),o=ss(),a=ts(),s=os(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,Gc(i,function(e){return ia($o(Yi.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Hc(e,h,a,Ki.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function tl(e,t,n){return void 0===n&&(n=ss()),d(this,void 0,void 0,(function(){var r,i;return p(this,(function(o){switch(o.label){case 0:return[4,Gc(e,ia(Wu(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Fi(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=ks(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(Zi.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var nl=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Su.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:ks(n.createTime)}),Su.resolve()},e.prototype.getNamedQuery=function(e,t){return Su.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Wu(e.bundledQuery),readTime:ks(e.readTime)}}(t)),Su.resolve()},e}(),rl=function(){function e(){this.Wn=new Ja(il.Gn),this.zn=new Ja(il.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new il(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new il(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new lo(new Yi([])),r=new il(n,e),i=new il(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new lo(new Yi([])),n=new il(t,e),r=new il(t,e+1),i=ss();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new il(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),il=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return lo.comparator(e.key,t.key)||ji(e.ns,t.ns)},e.Hn=function(e,t){return ji(e.ns,t.ns)||lo.comparator(e.key,t.key)},e}(),ol=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Ja(il.Gn)}return e.prototype.checkEmpty=function(e){return Su.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Ou(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new il(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Su.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Su.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Su.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Su.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Su.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new il(t,0),i=new il(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Su.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ja(ji);return t.forEach((function(e){var t=new il(e,0),i=new il(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Su.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;lo.isDocumentKey(i)||(i=i.child(""));var o=new il(new lo(i),0),a=new Ja(ji);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Su.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Mi(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Su.forEach(t.mutations,(function(i){var o=new il(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new il(t,0),r=this.rs.firstAfterOrEqual(n);return Su.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Su.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),al=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Ya(lo.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Su.resolve(n?n.document.clone():Ao.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=ts();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Ao.newInvalidDocument(e))})),Su.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=ts(),i=new lo(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||ca(t,c)&&(r=r.insert(c.key,c.clone()))}return Su.resolve(r)},e.prototype.fs=function(e,t){return Su.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new sl(this)},e.prototype.getSize=function(e){return Su.resolve(this.size)},e}(),sl=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return f(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Su.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(_c),ul=function(){function e(e){this.persistence=e,this.ds=new Sc((function(e){return Do(e)}),Po),this.lastRemoteSnapshotVersion=Ki.min(),this.highestTargetId=0,this.ws=0,this._s=new rl,this.targetCount=0,this.ys=lc.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Su.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Su.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Su.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Su.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Su.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new lc(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Su.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Su.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Su.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Su.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Su.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Su.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Su.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Su.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Su.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Su.resolve(n)},e.prototype.containsKey=function(e,t){return Su.resolve(this._s.containsKey(t))},e}(),cl=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Ii(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new ul(this),this.Ut=new $u,this.Ue=function(e,t){return new al(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Fu(t),this.Ke=new nl(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new ol(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Di("MemoryPersistence","Starting transaction:",e);var i=new ll(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Su.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),ll=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return f(t,e),t}(wu),fl=function(){function e(e){this.persistence=e,this.As=new rl,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Li()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Su.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Su.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Su.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Su.forEach(this.vs,(function(r){var i=lo.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Su.or([function(){return Su.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),hl=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function dl(e,t){return"firestore_clients_"+e+"_"+t}function pl(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function vl(e,t){return"firestore_targets_"+e+"_"+t}hl.UNAUTHENTICATED=new hl(null),hl.GOOGLE_CREDENTIALS=new hl("google-credentials-uid"),hl.FIRST_PARTY=new hl("first-party-uid"),hl.MOCK_USER=new hl("mock-user");var yl=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ai(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Pi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ml=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ai(i.error.code,i.error.message)),o?new e(t,i.state,r):(Pi("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),gl=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=cs(),a=0;i&&a<r.activeTargetIds.length;++a)i=co(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Pi("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),bl=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Pi("SharedClientState","Failed to parse online state: "+t),null)},e}(),wl=function(){function e(){this.activeTargetIds=cs()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),El=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ya(ji),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=dl(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new wl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return d(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return p(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(dl(this.persistenceKey,r)))&&(o=gl.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(vl(this.persistenceKey,e));if(n){var r=ml.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(vl(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Di("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Di("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Di("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Di("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Pi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return d(t,void 0,void 0,(function(){var e,t,r,i,o,a;return p(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Ii.o;if(null!=e)try{var n=JSON.parse(e);Mi("number"==typeof n),t=n}catch(e){Pi("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Ii.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new yl(this.currentUser,e,t,n),i=pl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=pl(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=vl(this.persistenceKey,e),i=new ml(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return gl.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yl.Vs(new hl(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return ml.Vs(r,t)},e.prototype.js=function(e){return bl.Vs(e)},e.prototype.ii=function(e){return d(this,void 0,void 0,(function(){return p(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Di("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=cs();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Sl=function(){function e(){this.li=new wl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new wl,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),_l=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Tl=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Di("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Di("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),kl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Il=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),xl=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return f(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new ki;a.listenOnce(wi.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case bi.NO_ERROR:var t=a.getResponseJson();Di("Connection","XHR received:",JSON.stringify(t)),i(t);break;case bi.TIMEOUT:Di("Connection",'RPC "'+e+'" timed out'),o(new Ai(xi.DEADLINE_EXCEEDED,"Request time out"));break;case bi.HTTP_ERROR:var n=a.getStatus();if(Di("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(xi).indexOf(t)>=0?t:xi.UNKNOWN}(r.status);o(new Ai(s,r.message))}else o(new Ai(xi.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ai(xi.UNAVAILABLE,"Connection failed."));break;default:Li()}}finally{Di("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=mi(),i=gi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new _i({})),this.ki(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())||"object"===typeof navigator&&"ReactNative"===navigator.product||_().indexOf("Electron/")>=0||function(){var e=_();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||_().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Di("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Il({Ei:function(e){c?Di("Connection","Not sending because WebChannel is closed:",e):(u||(Di("Connection","Opening WebChannel transport."),s.open(),u=!0),Di("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,Ti.EventType.OPEN,(function(){c||Di("Connection","WebChannel transport opened.")})),f(s,Ti.EventType.CLOSE,(function(){c||(c=!0,Di("Connection","WebChannel transport closed"),l.Vi())})),f(s,Ti.EventType.ERROR,(function(e){c||(c=!0,Ri("Connection","WebChannel transport errored:",e),l.Vi(new Ai(xi.UNAVAILABLE,"The operation could not be completed")))})),f(s,Ti.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Mi(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Di("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=qa[e];if(void 0!==t)return Ga(t)}(o),u=i.message;void 0===a&&(a=xi.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Ai(a,u)),s.close()}else Di("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Ei.STAT_EVENT,(function(e){e.stat===Si.PROXY?Di("Connection","Detected buffering proxy"):e.stat===Si.NOPROXY&&Di("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Di("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return Di("RestConnection","Received: ",e),e}),(function(t){throw Ri("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=kl[e];return this.Di+"/v1/"+t+":"+n},e}());function Al(){return"undefined"!=typeof window?window:null}function Cl(){return"undefined"!=typeof document?document:null}function Nl(e){return new Es(e,!0)}var Dl=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Di("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Pl=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Dl(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return d(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return d(this,void 0,void 0,(function(){return p(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return d(this,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===xi.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===xi.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Ai(xi.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return d(e,void 0,void 0,(function(){return p(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Di("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Di("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Rl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return f(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Li()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Mi(void 0===t||"string"==typeof t),Zi.fromBase64String(t||"")):(Mi(void 0===t||t instanceof Uint8Array),Zi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?xi.UNKNOWN:Ga(e.code);return new Ai(t,e.message||"")}(s);n=new ps(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Cs(e,r.document.name),o=ks(r.document.updateTime);var s=new Io({mapValue:{fields:r.document.fields}}),u=(a=Ao.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new hs(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Cs(e,r.document),o=r.readTime?ks(r.readTime):Ki.min(),s=Ao.newNoDocument(i,o),a=r.removedTargetIds||[],n=new hs([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Cs(e,r.document),o=r.removedTargetIds||[],n=new hs([],o,i,null);else{if(!("filter"in t))return Li();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Ha(r),o=l.targetId,n=new ds(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Ki.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ki.min():t.readTime?ks(t.readTime):Ki.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Ps(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Ro(r)?{documents:Vs(e,r)}:{query:Us(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=_s(e,t.resumeToken):t.snapshotVersion.compareTo(Ki.min())>0&&(n.readTime=Ss(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Li()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Ps(this.R),t.removeTarget=e,this.cr(t)},t}(Pl),Ol=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return f(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Mi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Mi(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ks(e.updateTime):ks(t);return n.isEqual(Ki.min())&&(n=ks(t)),new Aa(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ks(e.commitTime);return this.listener.Tr(n,t)}return Mi(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Ps(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ms(t.R,e)}))};this.cr(n)},t}(Pl),Ll=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return f(t,e),t.prototype.br=function(){if(this.Rr)throw new Ai(xi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===xi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Ai(xi.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===xi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Ai(xi.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Ml=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Pi(t),this.Vr=!1):Di("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Fl=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return d(o,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return Hl(this)?(Di("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return d(this,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return(t=Fi(e)).Or.add(4),[4,Ul(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Vl(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Ml(n,r)};function Vl(e){return d(this,void 0,void 0,(function(){var t,n;return p(this,(function(r){switch(r.label){case 0:if(!Hl(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Ul(e){return d(this,void 0,void 0,(function(){var t,n;return p(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function jl(e,t){var n=Fi(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ql(n)?Kl(n):uf(n).er()&&ql(n,t))}function Bl(e,t){var n=Fi(e),r=uf(n);n.$r.delete(t),r.er()&&zl(n,t),0===n.$r.size&&(r.er()?r.ir():Hl(n)&&n.Br.set("Unknown"))}function ql(e,t){e.qr.U(t.targetId),uf(e).mr(t)}function zl(e,t){e.qr.U(t),uf(e).yr(t)}function Kl(e){e.qr=new ys({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),uf(e).start(),e.Br.Sr()}function Ql(e){return Hl(e)&&!uf(e).tr()&&e.$r.size>0}function Hl(e){return 0===Fi(e).Or.size}function Wl(e){e.qr=void 0}function Gl(e){return d(this,void 0,void 0,(function(){return p(this,(function(t){return e.$r.forEach((function(t,n){ql(e,t)})),[2]}))}))}function Yl(e,t){return d(this,void 0,void 0,(function(){return p(this,(function(n){return Wl(e),Ql(e)?(e.Br.Nr(t),Kl(e)):e.Br.set("Unknown"),[2]}))}))}function Xl(e,t,n){return d(this,void 0,void 0,(function(){var r,i,o;return p(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof ps&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return d(this,void 0,void 0,(function(){var n,r,i,o;return p(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Di("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,$l(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof hs?e.qr.X(t):t instanceof ds?e.qr.rt(t):e.qr.et(t),n.isEqual(Ki.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Kc(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Zi.EMPTY_BYTE_STRING,n.snapshotVersion)),zl(e,t);var r=new Mu(n.target,t,1,n.sequenceNumber);ql(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Di("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,$l(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function $l(e,t,n){return d(this,void 0,void 0,(function(){var r=this;return p(this,(function(i){switch(i.label){case 0:if(!xu(t))throw t;return e.Or.add(1),[4,Ul(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Kc(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return d(r,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return Di("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Vl(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Jl(e,t){return t().catch((function(n){return $l(e,n,t)}))}function Zl(e){return d(this,void 0,void 0,(function(){var t,n,r,i,o;return p(this,(function(a){switch(a.label){case 0:t=Fi(e),n=cf(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Hl(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Wc(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=cf(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,$l(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return ef(t)&&tf(t),[2]}}))}))}function ef(e){return Hl(e)&&!cf(e).tr()&&e.Fr.length>0}function tf(e){cf(e).start()}function nf(e){return d(this,void 0,void 0,(function(){return p(this,(function(t){return cf(e).Ar(),[2]}))}))}function rf(e){return d(this,void 0,void 0,(function(){var t,n,r,i;return p(this,(function(o){for(t=cf(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function of(e,t,n){return d(this,void 0,void 0,(function(){var r,i;return p(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Lu.from(r,t,n),[4,Jl(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Zl(e)];case 2:return o.sent(),[2]}}))}))}function af(e,t){return d(this,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return t&&cf(e).pr?[4,function(e,t){return d(this,void 0,void 0,(function(){var n,r;return p(this,(function(i){switch(i.label){case 0:return Wa(r=t.code)&&r!==xi.ABORTED?(n=e.Fr.shift(),cf(e).sr(),[4,Jl(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Zl(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ef(e)&&tf(e),[2]}}))}))}function sf(e,t){return d(this,void 0,void 0,(function(){var n;return p(this,(function(r){switch(r.label){case 0:return n=Fi(e),t?(n.Or.delete(2),[4,Vl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Ul(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function uf(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Fi(e);return r.br(),new Rl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Gl.bind(null,e),Ri:Yl.bind(null,e),_r:Xl.bind(null,e)}),e.Mr.push((function(n){return d(t,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Ql(e)?Kl(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Wl(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function cf(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Fi(e);return r.br(),new Ol(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:nf.bind(null,e),Ri:af.bind(null,e),Ir:rf.bind(null,e),Tr:of.bind(null,e)}),e.Mr.push((function(n){return d(t,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Zl(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Di("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var lf=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Eu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ai(xi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ff(e,t){if(Pi("AsyncQueue",t+": "+e),xu(e))return new Ai(xi.UNAVAILABLE,t+": "+e);throw e}var hf=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||lo.comparator(t.key,n.key)}:function(e,t){return lo.comparator(e.key,t.key)},this.keyedMap=rs(),this.sortedSet=new Ya(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),df=function(){function e(){this.Qr=new Ya(lo.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Li():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),pf=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,hf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&aa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),vf=function(){this.Wr=void 0,this.listeners=[]},yf=function(){this.queries=new Sc((function(e){return sa(e)}),aa),this.onlineState="Unknown",this.Gr=new Set};function mf(e,t){return d(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return p(this,(function(c){switch(c.label){case 0:if(n=Fi(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new vf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=ff(s,"Initialization of query '"+ua(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Ef(n),[2]}}))}))}function gf(e,t){return d(this,void 0,void 0,(function(){var n,r,i,o,a;return p(this,(function(s){return n=Fi(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function bf(e,t){for(var n=Fi(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Ef(n)}function wf(e,t,n){var r=Fi(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Ef(e){e.Gr.forEach((function(e){e.next()}))}var Sf=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new pf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),_f=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Tf=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Cs(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Ls(this.R,e.document,!1):Ao.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return ks(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=kf(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Tf(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||ss()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return d(this,void 0,void 0,(function(){var e,t,n,r,i;return p(this,(function(o){switch(o.label){case 0:return[4,el(this.localStore,new Tf(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,tl(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Mc(Object.assign({},this.progress),e))]}}))}))}}();function kf(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var If=function(e){this.key=e},xf=function(e){this.key=e},Af=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=ss(),this.mutatedKeys=ss(),this.lo=la(e),this.fo=new hf(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new df,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Jo(this.query)&&i.size===this.query.limit?i.last():null,c=Zo(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ca(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Jo(this.query)||Zo(this.query))for(;a.size>this.query.limit;){var l=Jo(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Li()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new pf(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new df,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=ss(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new xf(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new If(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=ss();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return pf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Cf=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Nf=function(e){this.key=e,this.bo=!1},Df=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Sc((function(e){return sa(e)}),aa),this.Vo=new Map,this.So=new Set,this.Do=new Ya(lo.comparator),this.Co=new Map,this.No=new rl,this.xo={},this.ko=new Map,this.Fo=lc.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Pf(e,t){return d(this,void 0,void 0,(function(){var n,r,i,o,a,s;return p(this,(function(u){switch(u.label){case 0:return n=sh(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Gc(n.localStore,ia(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Rf(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&jl(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Rf(e,t,n,r){return d(this,void 0,void 0,(function(){var i,o,a,s,u,c;return p(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return d(this,void 0,void 0,(function(){var i,o,a;return p(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Xc(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Hf(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Xc(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Af(t,i.Bn),a=o._o(i.documents),s=fs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Hf(e,n,u.To),c=new Cf(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function Of(e,t){return d(this,void 0,void 0,(function(){var n,r,i;return p(this,(function(o){switch(o.label){case 0:return n=Fi(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!aa(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Yc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Bl(n.remoteStore,r.targetId),Kf(n,r.targetId)})).catch(vc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Kf(n,r.targetId),[4,Yc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Lf(e,t,n){return d(this,void 0,void 0,(function(){var r,i,o,a;return p(this,(function(s){switch(s.label){case 0:r=uh(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Fi(e),i=zi.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ss());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Oa(c,n.get(c.key));null!=l&&a.push(new Va(c.key,l,xo(l.value.mapValue),Ca.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Ya(ji)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Yf(r,i.changes)];case 3:return s.sent(),[4,Zl(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=ff(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Mf(e,t){return d(this,void 0,void 0,(function(){var n,r;return p(this,(function(i){switch(i.label){case 0:n=Fi(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Qc(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Mi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Mi(r.bo):e.removedDocuments.size>0&&(Mi(r.bo),r.bo=!1))})),[4,Yf(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,vc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ff(e,t,n){var r=Fi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Fi(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Ef(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Vf(e,t,n){return d(this,void 0,void 0,(function(){var r,i,o,a,s,u;return p(this,(function(c){switch(c.label){case 0:return(r=Fi(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Ya(lo.comparator)).insert(o,Ao.newNoDocument(o,Ki.min())),s=ss().add(o),u=new ls(Ki.min(),new Map,new Ja(ji),a,s),[4,Mf(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Gf(r),[3,4];case 2:return[4,Yc(r.localStore,t,!1).then((function(){return Kf(r,t,n)})).catch(vc)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Uf(e,t){return d(this,void 0,void 0,(function(){var n,r,i;return p(this,(function(o){switch(o.label){case 0:n=Fi(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,zc(n.localStore,t)];case 2:return i=o.sent(),zf(n,r,null),qf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Yf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,vc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function jf(e,t,n){return d(this,void 0,void 0,(function(){var r,i;return p(this,(function(o){switch(o.label){case 0:r=Fi(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Fi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Mi(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),zf(r,t,n),qf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Yf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,vc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Bf(e,t){return d(this,void 0,void 0,(function(){var n,r,i,o,a;return p(this,(function(s){switch(s.label){case 0:Hl((n=Fi(e)).remoteStore)||Di("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Fi(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=ff(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function qf(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function zf(e,t,n){var r=Fi(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Kf(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Qf(e,t)}))}function Qf(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Bl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Gf(e))}function Hf(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof If?(e.No.addReference(o.key,t),Wf(e,o)):o instanceof xf?(Di("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Qf(e,o.key)):Li()}}function Wf(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Di("SyncEngine","New document in limbo: "+n),e.So.add(r),Gf(e))}function Gf(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new lo(Yi.fromString(t)),r=e.Fo.next();e.Co.set(r,new Nf(n)),e.Do=e.Do.insert(n,r),jl(e.remoteStore,new Mu(ia($o(n.path)),r,2,Ii.o))}}function Yf(e,t,n){return d(this,void 0,void 0,(function(){var r,i,o,a;return p(this,(function(s){switch(s.label){case 0:return r=Fi(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Vc.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return d(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return p(this,(function(f){switch(f.label){case 0:n=Fi(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Su.forEach(t,(function(t){return Su.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Su.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!xu(r=f.sent()))throw r;return Di("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Xf(e,t){return d(this,void 0,void 0,(function(){var n,r;return p(this,(function(i){switch(i.label){case 0:return(n=Fi(e)).currentUser.isEqual(t)?[3,3]:(Di("SyncEngine","User change. New user:",t.toKey()),[4,qc(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new Ai(xi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Yf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function $f(e,t){var n=Fi(e),r=n.Co.get(t);if(r&&r.bo)return ss().add(r.key);var i=ss(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Jf(e,t){return d(this,void 0,void 0,(function(){var n,r,i;return p(this,(function(o){switch(o.label){case 0:return[4,Xc((n=Fi(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Hf(n,t.targetId,i.To),i)]}}))}))}function Zf(e){return d(this,void 0,void 0,(function(){var t;return p(this,(function(n){return[2,Jc((t=Fi(e)).localStore).then((function(e){return Yf(t,e)}))]}))}))}function eh(e,t,n,r){return d(this,void 0,void 0,(function(){var i,o;return p(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Fi(e),r=Fi(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Su.resolve(null)}))}))}((i=Fi(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Zl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(zf(i,t,r||null),qf(i,t),function(e,t){Fi(Fi(e)._n).Gt(t)}(i.localStore,t)):Li(),a.label=4;case 4:return[4,Yf(i,o)];case 5:return a.sent(),[3,7];case 6:Di("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function th(e,t){return d(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return p(this,(function(l){switch(l.label){case 0:return sh(n=Fi(e)),uh(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,nh(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,sf(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],jl(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Kf(n,t),Yc(n.localStore,t,!0)})),Bl(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,nh(n,u)];case 5:return l.sent(),function(e){var t=Fi(e);t.Co.forEach((function(e,n){Bl(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Ya(lo.comparator)}(n),n.$o=!1,[4,sf(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function nh(e,t,n){return d(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,v,y;return p(this,(function(p){switch(p.label){case 0:n=Fi(e),r=[],i=[],o=0,a=t,p.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Gc(n.localStore,ia(c[0]))]:[3,7]):[3,13];case 2:u=p.sent(),l=0,f=c,p.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,Jf(n,d)]):[3,6];case 4:(v=p.sent()).snapshot&&i.push(v.snapshot),p.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,$c(n.localStore,s)];case 8:return y=p.sent(),[4,Gc(n.localStore,y)];case 9:return u=p.sent(),[4,Rf(n,rh(y),s,!1)];case 10:p.sent(),p.label=11;case 11:r.push(u),p.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function rh(e){return Xo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ih(e){var t=Fi(e);return Fi(Fi(t.localStore).persistence).fn()}function oh(e,t,n,r){return d(this,void 0,void 0,(function(){var i,o,a;return p(this,(function(s){switch(s.label){case 0:return(i=Fi(e)).$o?(Di("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Jc(i.localStore)];case 3:return o=s.sent(),a=ls.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Yf(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Yc(i.localStore,t,!0)];case 6:return s.sent(),Kf(i,t,r),[3,8];case 7:Li(),s.label=8;case 8:return[2]}}))}))}function ah(e,t,n){return d(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return p(this,(function(d){switch(d.label){case 0:if(!(r=sh(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Di("SyncEngine","Adding an already active target "+a),[3,5]):[4,$c(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Gc(r.localStore,s)];case 3:return u=d.sent(),[4,Rf(r,rh(s),u.targetId,!1)];case 4:d.sent(),jl(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return p(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Yc(r.localStore,e,!1).then((function(){Bl(r.remoteStore,e),Kf(r,e)})).catch(vc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function sh(e){var t=Fi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$f.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vf.bind(null,t),t.vo._r=bf.bind(null,t.eventManager),t.vo.Mo=wf.bind(null,t.eventManager),t}function uh(e){var t=Fi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Uf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jf.bind(null,t),t}var ch=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return d(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return this.R=Nl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Bc(this.persistence,new Uc,e.initialUser,this.R)},e.prototype.qo=function(e){return new cl(fl.bs,this.R)},e.prototype.Bo=function(e){return new Sl},e.prototype.terminate=function(){return d(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),lh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return f(t,e),t.prototype.initialize=function(t){return d(this,void 0,void 0,(function(){var n=this;return p(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Zc(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,uh(this.Qo.syncEngine)];case 4:return r.sent(),[4,Zl(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Bc(this.persistence,new Uc,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new gc(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Lc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nc.withCacheSize(this.cacheSizeBytes):nc.DEFAULT;return new Pc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Al(),Cl(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Sl},t}(ch),fh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return f(t,e),t.prototype.initialize=function(t){return d(this,void 0,void 0,(function(){var n,r=this;return p(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof El?(this.sharedClientState.syncEngine={ui:eh.bind(null,n),ai:oh.bind(null,n),hi:ah.bind(null,n),fn:ih.bind(null,n),ci:Zf.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return d(r,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,th(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Al();if(!El.yt(t))throw new Ai(xi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Lc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new El(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(lh),hh=function(){function e(){}return e.prototype.initialize=function(e,t){return d(this,void 0,void 0,(function(){var n=this;return p(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Ff(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Xf.bind(null,this.syncEngine),[4,sf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new yf},e.prototype.createDatastore=function(e){var t,n=Nl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new xl(t));return function(e,t,n){return new Ll(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Ff(a.syncEngine,e,0)},o=Tl.yt()?new Tl:new _l,new Fl(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Df(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return d(this,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return t=Fi(e),Di("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Ul(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var dh=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),ph=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Eu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return d(this,void 0,void 0,(function(){return p(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return d(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return d(this,void 0,void 0,(function(){var e,t,n,r;return p(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new _f(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return d(this,void 0,void 0,(function(){var e,t;return p(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return d(this,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return d(this,void 0,void 0,(function(){var e,t;return p(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return d(this,void 0,void 0,(function(){var t,n=this;return p(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ai(xi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return d(this,void 0,void 0,(function(){var n,r,i,o,a,s;return p(this,(function(u){switch(u.label){case 0:return n=Fi(e),r=Ps(n.R)+"/documents",i={documents:t.map((function(e){return As(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Mi(!!t.found),t.found.name,t.found.updateTime;var n=Cs(e,t.found.name),r=ks(t.found.updateTime),i=new Io({mapValue:{fields:t.found.fields}});return Ao.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Mi(!!t.missing),Mi(!!t.readTime);var n=Cs(e,t.missing),r=ks(t.readTime);return Ao.newNoDocument(n,r)}(e,t):Li()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Mi(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Ka(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return d(this,void 0,void 0,(function(){var e,t=this;return p(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=lo.fromPath(n);t.mutations.push(new Qa(r,t.precondition(r)))})),[4,function(e,t){return d(this,void 0,void 0,(function(){var n,r,i;return p(this,(function(o){switch(o.label){case 0:return n=Fi(e),r=Ps(n.R)+"/documents",i={writes:t.map((function(e){return Ms(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Li();t=Ki.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ai(xi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ca.updateTime(t):Ca.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ki.min()))throw new Ai(xi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ca.updateTime(t)}return Ca.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),vh=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Dl(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return d(e,void 0,void 0,(function(){var e,t,n=this;return p(this,(function(r){return e=new ph(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!so(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Wa(t)}return!1},e}(),yh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=hl.UNAUTHENTICATED,this.clientId=Ui.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return d(r,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return Di("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return d(this,void 0,void 0,(function(){return p(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ai(xi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Eu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return d(e,void 0,void 0,(function(){var e,n;return p(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=ff(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function mh(e,t){return d(this,void 0,void 0,(function(){var n,r,i=this;return p(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Di("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return d(i,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,qc(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function gh(e,t){return d(this,void 0,void 0,(function(){var n,r;return p(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,bh(e)];case 1:return n=i.sent(),Di("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return d(this,void 0,void 0,(function(){var n,r;return p(this,(function(i){switch(i.label){case 0:return(n=Fi(e)).asyncQueue.verifyOperationInProgress(),Di("RemoteStore","RemoteStore received new credentials"),r=Hl(n),n.Or.add(3),[4,Ul(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Vl(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function bh(e){return d(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Di("FirestoreClient","Using default OfflineComponentProvider"),[4,mh(e,new ch)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function wh(e){return d(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Di("FirestoreClient","Using default OnlineComponentProvider"),[4,gh(e,new hh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Eh(e){return bh(e).then((function(e){return e.persistence}))}function Sh(e){return bh(e).then((function(e){return e.localStore}))}function _h(e){return wh(e).then((function(e){return e.remoteStore}))}function Th(e){return wh(e).then((function(e){return e.syncEngine}))}function kh(e){return d(this,void 0,void 0,(function(){var t,n;return p(this,(function(r){switch(r.label){case 0:return[4,wh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Pf.bind(null,t.syncEngine),n.onUnlisten=Of.bind(null,t.syncEngine),n)]}}))}))}function Ih(e,t,n){var r=this;void 0===n&&(n={});var i=new Eu;return e.asyncQueue.enqueueAndForget((function(){return d(r,void 0,void 0,(function(){var r;return p(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new dh({next:function(o){t.enqueueAndForget((function(){return gf(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Ai(xi.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Ai(xi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Sf($o(n.path),o,{includeMetadataChanges:!0,so:!0});return mf(e,a)},[4,kh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function xh(e,t,n){var r=this;void 0===n&&(n={});var i=new Eu;return e.asyncQueue.enqueueAndForget((function(){return d(r,void 0,void 0,(function(){var r;return p(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new dh({next:function(n){t.enqueueAndForget((function(){return gf(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Ai(xi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Sf(n,o,{includeMetadataChanges:!0,so:!0});return mf(e,a)},[4,kh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Ah=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Ch=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Nh=new Map,Dh=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Ph=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(hl.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Rh=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Oh=function(){function e(e){var t=this;this.currentUser=hl.UNAUTHENTICATED,this.oc=new Eu,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Di("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Di("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Di("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Mi("string"==typeof n.accessToken),new Dh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return d(n,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Mi(null===e||"string"==typeof e),new hl(e)},e}(),Lh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=hl.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Mh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Lh(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(hl.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Fh(e,t,n){if(!n)throw new Ai(xi.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Vh(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ai(xi.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Uh(e,t,n,r){if(!0===t&&!0===r)throw new Ai(xi.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function jh(e){if(!lo.isDocumentKey(e))throw new Ai(xi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Bh(e){if(lo.isDocumentKey(e))throw new Ai(xi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function qh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Li()}function zh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ai(xi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qh(e);throw new Ai(xi.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Kh(e,t){if(t<=0)throw new Ai(xi.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Qh=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ai(xi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ai(xi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Uh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Hh=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qh({}),this._settingsFrozen=!1,e instanceof Ch?(this._databaseId=e,this._credentials=new Ph):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ai(xi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(e.options.projectId)}(e),this._credentials=new Oh(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Ai(xi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Ai(xi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qh(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Ph;switch(e.type){case"gapi":var t=e.client;return Mi(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Mh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ai(xi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=Nh.get(this))&&(Di("ComponentProvider","Removing Datastore"),Nh.delete(this),e.terminate()),Promise.resolve();var e},e}(),Wh=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Yh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Gh=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Yh=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,$o(r))||this)._path=r,i.type="collection",i}return f(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Wh(this.firestore,null,new lo(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Gh);function Xh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=R(e),Fh("collection","path",t),e instanceof Hh)return Bh(n=Yi.fromString.apply(Yi,m([t],r))),new Yh(e,null,n);if(!(e instanceof Wh||e instanceof Yh))throw new Ai(xi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bh(n=Yi.fromString.apply(Yi,m([e.path],r)).child(Yi.fromString(t))),new Yh(e.firestore,null,n)}function $h(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=R(e),1===arguments.length&&(t=Ui.u()),Fh("doc","path",t),e instanceof Hh)return jh(n=Yi.fromString.apply(Yi,m([t],r))),new Wh(e,null,new lo(n));if(!(e instanceof Wh||e instanceof Yh))throw new Ai(xi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return jh(n=e._path.child(Yi.fromString.apply(Yi,m([t],r)))),new Wh(e.firestore,e instanceof Yh?e.converter:null,new lo(n))}function Jh(e,t){return e=R(e),t=R(t),(e instanceof Wh||e instanceof Yh)&&(t instanceof Wh||t instanceof Yh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Zh(e,t){return e=R(e),t=R(t),e instanceof Gh&&t instanceof Gh&&e.firestore===t.firestore&&aa(e._query,t._query)&&e.converter===t.converter}var ed=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Dl(this,"async_queue_retry"),this.Ic=function(){var t=Cl();t&&Di("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Cl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Cl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Eu;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return d(this,void 0,void 0,(function(){var e,t=this;return p(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!xu(e=n.sent()))throw e;return Di("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Pi("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=lf.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Li()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return d(this,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function td(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Eu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var nd=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new ed,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return f(t,e),t.prototype._terminate=function(){return this._firestoreClient||id(this),this._firestoreClient.terminate()},t}(Hh);function rd(e){return e._firestoreClient||id(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function id(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ah(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new yh(e._credentials,e._queue,r)}function od(e,t,n){var r=this,i=new Eu;return e.asyncQueue.enqueue((function(){return d(r,void 0,void 0,(function(){var r;return p(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,mh(e,n)];case 1:return o.sent(),[4,gh(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===xi.FAILED_PRECONDITION||e.code===xi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ad(e){if(e._initialized||e._terminated)throw new Ai(xi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var sd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Ai(xi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),ud=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Zi.fromBase64String(t))}catch(t){throw new Ai(xi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Zi.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),cd=function(e){this._methodName=e},ld=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ai(xi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ai(xi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return ji(this._lat,e._lat)||ji(this._long,e._long)},e}(),fd=/^__.*__$/,hd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fa(e,this.data,t,this.fieldTransforms)},e}(),dd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Va(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function pd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Li()}}var vd=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Ld(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(pd(this.Nc)&&fd.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),yd=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Nl(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new vd({Nc:e,methodName:t,qc:n,path:$i.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function md(e){var t=e._freezeSettings(),n=Nl(e._databaseId);return new yd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gd(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Dd("Data must be an object, but it was:",a,r);var s,u,c=Cd(r,a);if(o.merge)s=new Ji(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Pd(t,h[f],n);if(!a.contains(d))throw new Ai(xi.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Md(l,d)||l.push(d)}s=new Ji(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new hd(new Io(c),s,u)}var bd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(cd);function wd(e,t,n){return new vd({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Ed=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype._toFieldTransform=function(e){return new xa(e.path,new ba)},t.prototype.isEqual=function(e){return e instanceof t},t}(cd),Sd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return f(t,e),t.prototype._toFieldTransform=function(e){var t=wd(this,e,!0),n=this.Kc.map((function(e){return Ad(e,t)})),r=new wa(n);return new xa(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(cd),_d=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return f(t,e),t.prototype._toFieldTransform=function(e){var t=wd(this,e,!0),n=this.Kc.map((function(e){return Ad(e,t)})),r=new Sa(n);return new xa(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(cd),Td=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return f(t,e),t.prototype._toFieldTransform=function(e){var t=new Ta(e.R,pa(e.R,this.Qc));return new xa(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(cd);function kd(e,t,n,r){var i=e.Uc(1,t,n);Dd("Data must be an object, but it was:",i,r);var o=[],a=Io.empty();Hi(r,(function(e,r){var s=Od(t,e,n);r=R(r);var u=i.Oc(s);if(r instanceof bd)o.push(s);else{var c=Ad(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Ji(o);return new dd(a,s,i.fieldTransforms)}function Id(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[Pd(t,r,n)],u=[i];if(o.length%2!=0)throw new Ai(xi.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Pd(t,o[c])),u.push(o[c+1]);for(var l=[],f=Io.empty(),h=s.length-1;h>=0;--h)if(!Md(l,s[h])){var d=s[h],p=u[h];p=R(p);var v=a.Oc(d);if(p instanceof bd)l.push(d);else{var y=Ad(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Ji(l);return new dd(f,m,a.fieldTransforms)}function xd(e,t,n,r){return void 0===r&&(r=!1),Ad(n,e.Uc(r?4:3,t))}function Ad(e,t){if(Nd(e=R(e)))return Dd("Unsupported field value:",t,e),Cd(e,t);if(e instanceof cd)return function(e,t){if(!pd(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Ad(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=R(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pa(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=zi.fromDate(e);return{timestampValue:Ss(t.R,n)}}if(e instanceof zi)return n=new zi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Ss(t.R,n)};if(e instanceof ld)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ud)return{bytesValue:_s(t.R,e._byteString)};if(e instanceof Wh){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Is(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+qh(e))}(e,t)}function Cd(e,t){var n={};return Wi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hi(e,(function(e,r){var i=Ad(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Nd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof zi||e instanceof ld||e instanceof ud||e instanceof Wh||e instanceof cd)}function Dd(e,t,n){if(!Nd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qh(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Pd(e,t,n){if((t=R(t))instanceof sd)return t._internalPath;if("string"==typeof t)return Od(e,t);throw Ld("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Rd=new RegExp("[~\\*/\\[\\]]");function Od(e,t,n){if(t.search(Rd)>=0)throw Ld("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(sd.bind.apply(sd,m([void 0],t.split(".")))))._internalPath}catch(Vp){throw Ld("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ld(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Ai(xi.INVALID_ARGUMENT,(s+=". ")+e+u)}function Md(e,t){return e.some((function(e){return e.isEqual(t)}))}var Fd=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Wh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Vd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Ud("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Vd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Fd);function Ud(e,t){return"string"==typeof t?Od(e,t):t instanceof sd?t._internalPath:t._delegate._internalPath}var jd=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Bd=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return f(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Ud("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Fd),qd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Bd),zd=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new jd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new qd(n._firestore,n._userDataWriter,r.key,r,new jd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ai(xi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new qd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new qd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Kd(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Kd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Li()}}function Qd(e,t){return e instanceof Bd&&t instanceof Bd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof zd&&t instanceof zd&&e._firestore===t._firestore&&Zh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Hd(e){if(Zo(e)&&0===e.explicitOrderBy.length)throw new Ai(xi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wd=function(){};function Gd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Yd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return f(t,e),t.prototype._apply=function(e){var t=md(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ai(xi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){np(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(tp(r,e,f))}s={arrayValue:{values:u}}}else s=tp(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||np(a,o),s=xd(n,"where",a,"in"===o||"not-in"===o);var h=Oo.create(i,o,s);return function(e,t){if(t.g()){var n=ta(e);if(null!==n&&!n.isEqual(t.field))throw new Ai(xi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=ea(e);null!==r&&rp(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ai(xi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Ai(xi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Gh(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Yo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Wd),Xd=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return f(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ai(xi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ai(xi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Qo(t,n);return function(e,t){if(null===ea(e)){var n=ta(e);null!==n&&rp(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Gh(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Yo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Wd),$d=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return f(t,e),t.prototype._apply=function(e){return new Gh(e.firestore,e.converter,oa(e._query,this.Hc,this.Jc))},t}(Wd),Jd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return f(t,e),t.prototype._apply=function(e){var t=ep(e,this.type,this.Yc,this.Xc);return new Gh(e.firestore,e.converter,function(e,t){return new Yo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Wd),Zd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return f(t,e),t.prototype._apply=function(e){var t=ep(e,this.type,this.Yc,this.Xc);return new Gh(e.firestore,e.converter,function(e,t){return new Yo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Wd);function ep(e,t,n,r){if(n[0]=R(n[0]),n[0]instanceof Fd)return function(e,t,n,r,i){if(!r)throw new Ai(xi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=ra(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(bo(t,r.key));else{var c=r.data.field(u.field);if(io(c))throw new Ai(xi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ai(xi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new zo(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=md(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Ai(xi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Ai(xi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!na(e)&&-1!==c.indexOf("/"))throw new Ai(xi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Yi.fromString(c));if(!lo.isDocumentKey(l))throw new Ai(xi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new lo(l);s.push(bo(t,f))}else{var h=xd(n,r,c);s.push(h)}}return new zo(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function tp(e,t,n){if("string"==typeof(n=R(n))){if(""===n)throw new Ai(xi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!na(t)&&-1!==n.indexOf("/"))throw new Ai(xi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Yi.fromString(n));if(!lo.isDocumentKey(r))throw new Ai(xi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return bo(e,new lo(r))}if(n instanceof Wh)return bo(e,n._key);throw new Ai(xi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qh(n)+".")}function np(e,t){if(!Array.isArray(e)||0===e.length)throw new Ai(xi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Ai(xi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function rp(e,t,n){if(!n.isEqual(t))throw new Ai(xi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ip=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return no(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Li()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Hi(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new ld(no(e.latitude),no(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=oo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ao(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=to(e);return new zi(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Yi.fromString(e);Mi($s(n));var r=new Ch(n.get(1),n.get(3)),i=new lo(n.popFirst(5));return r.isEqual(t)||Pi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function op(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ap=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return f(t,e),t.prototype.convertBytes=function(e){return new ud(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wh(this.firestore,null,t)},t}(ip),sp=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=md(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=up(e,this._firestore),i=op(r.converter,t,n),o=gd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ca.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=up(e,this._firestore);return o="string"==typeof(t=R(t))||t instanceof sd?Id(this._dataReader,"WriteBatch.update",a._key,t,n,r):kd(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Ca.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=up(e,this._firestore);return this._mutations=this._mutations.concat(new Ka(t._key,Ca.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ai(xi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function up(e,t){if((e=R(e)).firestore!==t)throw new Ai(xi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var cp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return f(t,e),t.prototype.convertBytes=function(e){return new ud(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wh(this.firestore,null,t)},t}(ip);function lp(e,t,n){e=zh(e,Wh);var r=zh(e.firestore,nd),i=op(e.converter,t,n);return dp(r,[gd(md(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ca.none())])}function fp(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=zh(e,Wh);var o=zh(e.firestore,nd),a=md(o);return dp(o,[("string"==typeof(t=R(t))||t instanceof sd?Id(a,"updateDoc",e._key,t,n,r):kd(a,"updateDoc",e._key,t)).toMutation(e._key,Ca.exists(!0))])}function hp(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=R(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||td(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(td(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof Wh)c=zh(e.firestore,nd),l=$o(e._key.path),u={next:function(t){i[s]&&i[s](pp(c,e,t))},error:i[s+1],complete:i[s+2]};else{var v=zh(e,Gh);c=zh(v.firestore,nd),l=v._query;var y=new cp(c);u={next:function(e){i[s]&&i[s](new zd(c,y,v,e))},error:i[s+1],complete:i[s+2]},Hd(e._query)}return function(e,t,n,r){var i=this,o=new dh(r),a=new Sf(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return d(i,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return t=mf,[4,kh(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return d(i,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return t=gf,[4,kh(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(rd(c),l,f,u)}function dp(e,t){return function(e,t){var n=this,r=new Eu;return e.asyncQueue.enqueueAndForget((function(){return d(n,void 0,void 0,(function(){var n;return p(this,(function(i){switch(i.label){case 0:return n=Lf,[4,Th(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(rd(e),t)}function pp(e,t,n){var r=n.docs.get(t._key),i=new cp(e);return new Bd(e,i,t._key,r,new jd(n.hasPendingWrites,n.fromCache),t.converter)}var vp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return f(t,e),t.prototype.get=function(t){var n=this,r=up(t,this._firestore),i=new cp(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Bd(n._firestore,i,r._key,e._document,new jd(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=md(e)}return e.prototype.get=function(e){var t=this,n=up(e,this._firestore),r=new ap(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Li();var i=e[0];if(i.isFoundDocument())return new Fd(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Fd(t._firestore,r,n._key,null,n.converter);throw Li()}))},e.prototype.set=function(e,t,n){var r=up(e,this._firestore),i=op(r.converter,t,n),o=gd(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=up(e,this._firestore);return o="string"==typeof(t=R(t))||t instanceof sd?Id(this._dataReader,"Transaction.update",a._key,t,n,r):kd(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=up(e,this._firestore);return this._transaction.delete(t._key),this},e}());function yp(){if("undefined"==typeof Uint8Array)throw new Ai(xi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function mp(){if("undefined"==typeof atob)throw new Ai(xi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var gp=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return mp(),new e(ud.fromBase64String(t))},e.fromUint8Array=function(t){return yp(),new e(ud.fromUint8Array(t))},e.prototype.toBase64=function(){return mp(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return yp(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),bp=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){ad(e=zh(e,nd));var n=rd(e),r=e._freezeSettings(),i=new hh;return od(n,i,new lh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){ad(e=zh(e,nd));var t=rd(e),n=e._freezeSettings(),r=new hh;return od(t,r,new fh(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Ai(xi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Eu;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return d(t,void 0,void 0,(function(){var t;return p(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return d(this,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return Tu.yt()?(t=e+"main",[4,Tu.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Lc(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),wp=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Ch||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ri("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=zh(e,Hh))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Ri("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=hl.MOCK_USER;else{a=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=h({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[w(JSON.stringify({alg:"none",type:"JWT"})),w(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ai(xi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new hl(u)}e._credentials=new Rh(new Dh(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return d(t,void 0,void 0,(function(){var t,n;return p(this,(function(r){switch(r.label){case 0:return[4,Eh(e)];case 1:return t=r.sent(),[4,_h(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Fi(e);return t.Or.delete(0),Vl(t)}(n))]}}))}))}))}(rd(zh(this._delegate,nd)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return d(t,void 0,void 0,(function(){var t,n;return p(this,(function(r){switch(r.label){case 0:return[4,Eh(e)];case 1:return t=r.sent(),[4,_h(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return d(this,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return(t=Fi(e)).Or.add(0),[4,Ul(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(rd(zh(this._delegate,nd)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Uh("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Eu;return e.asyncQueue.enqueueAndForget((function(){return d(t,void 0,void 0,(function(){var t;return p(this,(function(r){switch(r.label){case 0:return t=Bf,[4,Th(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(rd(zh(this._delegate,nd)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new dh(t);return e.asyncQueue.enqueueAndForget((function(){return d(n,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return t=function(e,t){Fi(e).Gr.add(t),t.next()},[4,kh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return d(n,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return t=function(e,t){Fi(e).Gr.delete(t)},[4,kh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(rd(e=zh(e,nd)),td(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Ai(xi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Op(this,Xh(this._delegate,e))}catch(e){throw Ip(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new kp(this,$h(this._delegate,e))}catch(e){throw Ip(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Dp(this,function(e,t){if(e=zh(e,Hh),Fh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ai(xi.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Gh(e,null,function(e){return new Yo(Yi.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Ip(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Eu;return e.asyncQueue.enqueueAndForget((function(){return d(n,void 0,void 0,(function(){var n;return p(this,(function(i){switch(i.label){case 0:return[4,function(e){return wh(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new vh(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(rd(e),(function(n){return t(new vp(e,n))}))}(this._delegate,(function(n){return e(new Sp(t,n))}))},e.prototype.batch=function(){var e=this;return rd(this._delegate),new _p(new sp(this._delegate,(function(t){return dp(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Ai(xi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Ai(xi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ep=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return f(t,e),t.prototype.convertBytes=function(e){return new gp(new ud(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return kp.eu(t,this.firestore,null)},t}(ip);var Sp=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ep(e)}return e.prototype.get=function(e){var t=this,n=Lp(e);return this._delegate.get(n).then((function(e){return new Cp(t._firestore,new Bd(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Lp(e);return n?(Vh("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Lp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,m([a,t,n],i)),this},e.prototype.delete=function(e){var t=Lp(e);return this._delegate.delete(t),this},e}(),_p=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Lp(e);return n?(Vh("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Lp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,m([a,t,n],i)),this},e.prototype.delete=function(e){var t=Lp(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Tp=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new qd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Np(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Ep(t),n),i.set(n,o)),o},e}();Tp.su=new WeakMap;var kp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ep(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Ai(xi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Wh(n._delegate,r,new lo(t)))},e.eu=function(t,n,r){return new e(n,new Wh(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Op(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Op(this.firestore,Xh(this._delegate,e))}catch(e){throw Ip(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=R(e))instanceof Wh&&Jh(this._delegate,e)},e.prototype.set=function(e,t){t=Vh("DocumentReference.set",t);try{return t?lp(this._delegate,e,t):lp(this._delegate,e)}catch(e){throw Ip(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?fp(this._delegate,e):fp.apply(void 0,m([this._delegate,e,t],n))}catch(e){throw Ip(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return dp(zh((e=this._delegate).firestore,nd),[new Ka(e._key,Ca.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=xp(t),i=Ap(t,(function(t){return new Cp(e.firestore,new Bd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return hp(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=zh(e,Wh);var t=zh(e.firestore,nd),n=rd(t),r=new cp(t);return function(e,t){var n=this,r=new Eu;return e.asyncQueue.enqueueAndForget((function(){return d(n,void 0,void 0,(function(){var n;return p(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return d(this,void 0,void 0,(function(){var r,i;return p(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Fi(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ai(xi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=ff(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Sh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Bd(t,r,e._key,n,new jd(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zh(e,Wh);var t=zh(e.firestore,nd);return Ih(rd(t),e._key,{source:"server"}).then((function(n){return pp(t,e,n)}))}(this._delegate):function(e){e=zh(e,Wh);var t=zh(e.firestore,nd);return Ih(rd(t),e._key).then((function(n){return pp(t,e,n)}))}(this._delegate)).then((function(e){return new Cp(t.firestore,new Bd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Tp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Ip(e,t,n){return e.message=e.message.replace(t,n),e}function xp(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!td(r))return r}return{}}function Ap(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=td(e[0])?e[0]:td(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Cp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new kp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Qd(this._delegate,e._delegate)},e}(),Np=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Cp),Dp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ep(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Gd(this._delegate,function(e,t,n){var r=t,i=Ud("where",e);return new Yd(i,r,n)}(t,n,r)))}catch(t){throw Ip(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Gd(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Ud("orderBy",e);return new Xd(r,n)}(t,n)))}catch(t){throw Ip(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Gd(this._delegate,function(e){return Kh("limit",e),new $d("limit",e,"F")}(t)))}catch(t){throw Ip(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Gd(this._delegate,function(e){return Kh("limitToLast",e),new $d("limitToLast",e,"L")}(t)))}catch(t){throw Ip(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Jd("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Ip(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Jd("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Ip(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Zd("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Ip(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Zd("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Ip(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Zh(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=zh(e,Gh);var t=zh(e.firestore,nd),n=rd(t),r=new cp(t);return function(e,t){var n=this,r=new Eu;return e.asyncQueue.enqueueAndForget((function(){return d(n,void 0,void 0,(function(){var n;return p(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return d(this,void 0,void 0,(function(){var r,i,o,a,s;return p(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Xc(e,t,!0)];case 1:return s=u.sent(),r=new Af(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=ff(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Sh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new zd(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zh(e,Gh);var t=zh(e.firestore,nd),n=rd(t),r=new cp(t);return xh(n,e._query,{source:"server"}).then((function(n){return new zd(t,r,e,n)}))}(this._delegate):function(e){e=zh(e,Gh);var t=zh(e.firestore,nd),n=rd(t),r=new cp(t);return Hd(e._query),xh(n,e._query).then((function(n){return new zd(t,r,e,n)}))}(this._delegate)).then((function(e){return new Rp(t.firestore,new zd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=xp(t),i=Ap(t,(function(t){return new Rp(e.firestore,new zd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return hp(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Tp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Pp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Np(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Rp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Dp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Np(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Pp(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Np(n._firestore,r))}))},e.prototype.isEqual=function(e){return Qd(this._delegate,e._delegate)},e}(),Op=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return f(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new kp(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new kp(this.firestore,void 0===e?$h(this._delegate):$h(this._delegate,e))}catch(e){throw Ip(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=zh(e.firestore,nd),r=$h(e),i=op(e.converter,t);return dp(n,[gd(md(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ca.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new kp(t.firestore,e)}))},t.prototype.isEqual=function(e){return Jh(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Tp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Dp);function Lp(e){return zh(e,Wh)}var Mp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(sd.bind.apply(sd,m([void 0],e)))}return e.documentId=function(){return new e($i.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=R(e))instanceof sd&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Fp=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Ed("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new bd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Sd("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new _d("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Td("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var Vp,Up={Firestore:wp,GeoPoint:ld,Timestamp:zi,Blob:gp,Transaction:Sp,WriteBatch:_p,DocumentReference:kp,DocumentSnapshot:Cp,Query:Dp,QueryDocumentSnapshot:Np,QuerySnapshot:Rp,CollectionReference:Op,FieldPath:Mp,FieldValue:Fp,setLogLevel:function(e){var t;t=e,Ci.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new O("firestore",(function(e){return function(e,t){return new wp(e,new nd(e,t),new bp)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Up)))})(Vp=ce),Vp.registerVersion("@firebase/firestore","2.4.1");ce.initializeApp({apiKey:"AIzaSyDiL4xOAMM9yg-o1dIWhFJwCRS-CwzkSy0",authDomain:"chemistry-aa476.firebaseapp.com",projectId:"chemistry-aa476",storageBucket:"chemistry-aa476.appspot.com",messagingSenderId:"63590157971",appId:"1:63590157971:web:140ef36352f636747b0766"});var jp,Bp=ce.firestore();function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qp.apply(this,arguments)}console.log(Bp),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(jp||(jp={}));var zp=function(e){return e};var Kp="beforeunload",Qp="popstate";function Hp(e){e.preventDefault(),e.returnValue=""}function Wp(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Gp(){return Math.random().toString(36).substr(2,8)}function Yp(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function Xp(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var $p=(0,e.createContext)(null);var Jp=(0,e.createContext)(null);var Zp=(0,e.createContext)({outlet:null,matches:[]});function ev(e,t){if(!e)throw new Error(t)}function tv(e,t,n){void 0===n&&(n="/");var r=cv(("string"===typeof t?Xp(t):t).pathname||"/",n);if(null==r)return null;var i=nv(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=av(i[a],r);return o}function nv(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||ev(!1),o.relativePath=o.relativePath.slice(r.length));var a=lv([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&ev(!1),nv(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:ov(a,e.index),routesMeta:s})})),t}var rv=/^:\w+$/,iv=function(e){return"*"===e};function ov(e,t){var n=e.split("/"),r=n.length;return n.some(iv)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!iv(e)})).reduce((function(e,t){return e+(rv.test(t)?3:""===t?1:10)}),r)}function av(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=sv({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;o.push({params:r,pathname:lv([i,l.pathname]),pathnameBase:fv(lv([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=lv([i,l.pathnameBase]))}return o}function sv(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],c=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function uv(e,t,n){var r,i="string"===typeof e?Xp(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Xp(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:hv(o),hash:dv(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function cv(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var lv=function(e){return e.join("/").replace(/\/\/+/g,"/")},fv=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},hv=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},dv=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function pv(t){vv()||ev(!1);var n=(0,e.useContext)($p),r=n.basename,i=n.navigator,o=gv(t),a=o.hash,s=o.pathname,u=o.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?Xp(e).pathname:e.pathname}(t),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):lv([r,s])}return i.createHref({pathname:c,search:u,hash:a})}function vv(){return null!=(0,e.useContext)(Jp)}function yv(){return vv()||ev(!1),(0,e.useContext)(Jp).location}function mv(){vv()||ev(!1);var t=(0,e.useContext)($p),n=t.basename,r=t.navigator,i=(0,e.useContext)(Zp).matches,o=yv().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var u=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=uv(e,JSON.parse(a),o);"/"!==n&&(i.pathname=lv([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,a,o]);return u}function gv(t){var n=(0,e.useContext)(Zp).matches,r=yv().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return uv(t,JSON.parse(i),r)}),[t,i,r])}function bv(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,o){return(0,e.createElement)(Zp.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(t.slice(0,o+1))}})}),null)}function wv(e){ev(!1)}function Ev(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,o=void 0===i?null:i,a=t.location,s=t.navigationType,u=void 0===s?jp.Pop:s,c=t.navigator,l=t.static,f=void 0!==l&&l;vv()&&ev(!1);var h=fv(r),d=(0,e.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof a&&(a=Xp(a));var p=a,v=p.pathname,y=void 0===v?"/":v,m=p.search,g=void 0===m?"":m,b=p.hash,w=void 0===b?"":b,E=p.state,S=void 0===E?null:E,_=p.key,T=void 0===_?"default":_,k=(0,e.useMemo)((function(){var e=cv(y,h);return null==e?null:{pathname:e,search:g,hash:w,state:S,key:T}}),[h,y,g,w,S,T]);return null==k?null:(0,e.createElement)($p.Provider,{value:d},(0,e.createElement)(Jp.Provider,{children:o,value:{location:k,navigationType:u}}))}function Sv(t){var n=t.children,r=t.location;return function(t,n){vv()||ev(!1);var r,i=(0,e.useContext)(Zp).matches,o=i[i.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,yv());if(n){var c,l="string"===typeof n?Xp(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||ev(!1),r=l}else r=u;var f=r.pathname||"/",h=tv(t,{pathname:"/"===s?f:f.slice(s.length)||"/"});return bv(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:lv([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:lv([s,e.pathnameBase])})})),i)}(_v(n),r)}function _v(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==wv&&ev(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=_v(t.props.children)),n.push(r)}else n.push.apply(n,_v(t.props.children))})),n}var Tv=n(184),kv=function(t){var n=t.difficulty,r=u((0,e.useState)(!1),2),o=r[0],s=r[1],l=u((0,e.useState)(),2),f=l[0],h=l[1],d=u((0,e.useState)(),2),p=d[0],v=d[1],y=u((0,e.useState)(""),2),m=y[0],g=y[1],b=u((0,e.useState)(0),2),w=b[0],E=b[1],S=(0,e.useRef)(),_=u((0,e.useState)(0),2),T=_[0],k=_[1],I=u((0,e.useState)(n),2),x=I[0],A=I[1],C=u((0,e.useState)(""),2),N=C[0],D=C[1],P=u((0,e.useState)(!1),2),R=P[0],O=P[1],L=0;function M(){setInterval(F,200)}function F(){var e=document.querySelector(".status");e&&((L=parseFloat(window.getComputedStyle(e).getPropertyValue("opacity")))<1?(L+=.1,e.style.opacity=L):L>1&&(e.style.opacity=1))}(0,e.useEffect)((function(){document.querySelector(".status").style.opacity=0,window.addEventListener("click",M)}),[m]),(0,e.useEffect)((function(){window.addEventListener("click",U),window.addEventListener("load",M)}),[]),(0,e.useEffect)((function(){x.length<1&&(O(!R),g("Wow! You found all the elements in ".concat(T," seconds.")),document.querySelector(".timer").textContent="Timer: ".concat(T))}),[T]),(0,e.useEffect)((function(){var e=setInterval((function(){R||k(T+1)}),1e3);return function(){return clearInterval(e)}}));var V,U=function(){var e=document.querySelector(".periodic-table");e&&(e.onclick=function(t){var n=t.pageX-t.target.offsetLeft,r=t.pageY-t.target.offsetTop;j(n,r);var i=e.getBoundingClientRect();h(n+i.left),v(r+i.top)})},j=function(e,t){for(var r=0;r<n.length;r++)if(n[r].x1<=e&&n[r].x2>=e&&n[r].y1<=t&&n[r].y2>=t){var i=n[r].name;return D(i),void s(!0)}s(!1),g("That's not one of the listed elements to be found.")},B=function(e){var t=e.target.textContent;if(t===N){g("Congratulations, that's a match!");var n=x.slice();n=n.filter((function(e){return e.name!==t})),A(n),E((function(e){return e+10})),s(!1),q()}else s(!1),g("Nope, try again!")},q=function(){var e=n.filter((function(e){return e.name===N}))[0].x1,t=n.filter((function(e){return e.name===N}))[0].y1,r=document.createElement("img"),i=document.querySelector(".periodic-table").getBoundingClientRect(),o=e+i.left+12,a=t+i.top+12;r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAABvAAAAbwHxotxDAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAE5QTFRF////n9+AquqAqvFxqup1o+Bwm9NwmtVxpex2pup3pOp5pet5ltVtpOt4pex5m9xxpet4ltRspet3pet4pet4pet4ldRspet4nN5xpet41CC3lwAAABh0Uk5TAAgMEhgZKSs2PIensbe4vMPEzc7X2Onz9reEHQAAAEpJREFUGFeVyEcOgDAQBMFZcrbJzP8/ioUs2OUEfasGfpW2mfXMJbfmMb68lUDSiLXnIMroyXAeo97Dmdbb8SjHo3wdY6ByXYHPnTJhBnBxq+rjAAAAAElFTkSuQmCC",r.classList.add("check"),r.alt="check",r.style.position="absolute",r.style.left="".concat(o,"px"),r.style.top="".concat(a,"px"),document.body.appendChild(r)},z=mv(),K=function(){var e=a(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.querySelector(".user-name").value,n=T,console.log(t,n),document.querySelectorAll(".check").forEach((function(e){return e.remove()})),r={Time:n,Name:t},Bp.collection("high-scores").add(r),z("/chemical-elements/leaderboard");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=(V=T,Math.floor(V/60)+":"+("0"+Math.floor(V%60)).slice(-2));return(0,e.useEffect)((function(){document.addEventListener("click",(function(e){(e.target.matches(".modal")||e.target.matches(".close-form"))&&(document.querySelector(".modal").style.display="none")}))})),(0,Tv.jsxs)("div",{className:"main",children:[(0,Tv.jsxs)("div",{className:"header",children:[(0,Tv.jsx)("h1",{children:"CHEMICAL ELEMENT SEARCH"}),(0,Tv.jsxs)("div",{className:"stats",children:[(0,Tv.jsxs)("span",{className:"score",children:["Score: ",w]}),(0,Tv.jsxs)("span",{className:"timer",children:["Timer: ",Q]})]})]}),(0,Tv.jsx)("p",{className:"status",children:m||"Find the elements listed in the right sidebar. Choose a spot in the periodic table to place each element."}),(0,Tv.jsx)("div",{className:"content",children:(0,Tv.jsxs)("div",{className:"board",children:[(0,Tv.jsx)("div",{children:(0,Tv.jsx)("img",{src:c,alt:"periodic table",className:"periodic-table"})}),(0,Tv.jsx)("div",{ref:S,className:"message",style:{position:"absolute",top:"".concat(p,"px"),left:"".concat(f,"px"),zIndex:"100",visibility:o?"visible":"hidden"},children:(0,Tv.jsx)("ul",{id:"dropdown",children:x.map((function(e){return(0,Tv.jsx)("li",{className:"dropdown-item",value:e.name,onClick:B,children:e.name},e.name)}))})}),(0,Tv.jsx)("div",{className:"sidebar",children:(0,Tv.jsxs)("ul",{children:["Elements Remaining:",x.map((function(e){return(0,Tv.jsx)("div",{className:"element-item",children:e.name},e.name)}))]})})]})}),R&&(0,Tv.jsx)("div",{className:"modal",children:(0,Tv.jsxs)("div",{className:"form",children:[(0,Tv.jsx)("span",{className:"close-form",children:"X"}),(0,Tv.jsx)("span",{className:"message",children:"Congratulations! You completed the round!"}),(0,Tv.jsx)("input",{type:"text",className:"user-name",placeholder:"Enter your name"}),(0,Tv.jsx)("button",{type:"button",className:"submit-button",onClick:K,children:"Submit"})]})})]})};function Iv(){return Iv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iv.apply(this,arguments)}function xv(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Av=["onClick","reloadDocument","replace","state","target","to"];function Cv(t){var n=t.basename,r=t.children,i=t.window,o=(0,e.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,o=e.hash,a=r.state||{};return[a.idx,zp({pathname:t,search:i,hash:o,state:a.usr||null,key:a.key||"default"})]}var o=null;n.addEventListener(Qp,(function(){if(o)f.call(o),o=null;else{var e=jp.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var a=u-n;a&&(o={action:e,location:r,retry:function(){m(-1*a)}},m(a))}}else y(e)}}));var a=jp.Pop,s=i(),u=s[0],c=s[1],l=Wp(),f=Wp();function h(e){return"string"===typeof e?e:Yp(e)}function d(e,t){return void 0===t&&(t=null),zp(qp({pathname:c.pathname,hash:"",search:""},"string"===typeof e?Xp(e):e,{state:t,key:Gp()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function v(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function y(e){a=e;var t=i();u=t[0],c=t[1],l.call({action:a,location:c})}function m(e){r.go(e)}null==u&&(u=0,r.replaceState(qp({},r.state,{idx:u}),""));var g={get action(){return a},get location(){return c},createHref:h,push:function e(t,i){var o=jp.Push,a=d(t,i);if(v(o,a,(function(){e(t,i)}))){var s=p(a,u+1),c=s[0],l=s[1];try{r.pushState(c,"",l)}catch(f){n.location.assign(l)}y(o)}},replace:function e(t,n){var i=jp.Replace,o=d(t,n);if(v(i,o,(function(){e(t,n)}))){var a=p(o,u),s=a[0],c=a[1];r.replaceState(s,"",c),y(i)}},go:m,back:function(){m(-1)},forward:function(){m(1)},listen:function(e){return l.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(Kp,Hp),function(){t(),f.length||n.removeEventListener(Kp,Hp)}}};return g}({window:i}));var a=o.current,s=u((0,e.useState)({action:a.action,location:a.location}),2),c=s[0],l=s[1];return(0,e.useLayoutEffect)((function(){return a.listen(l)}),[a]),(0,e.createElement)(Ev,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:a})}var Nv=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,o=t.replace,a=void 0!==o&&o,s=t.state,u=t.target,c=t.to,l=xv(t,Av),f=pv(c),h=function(t,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=mv(),u=yv(),c=gv(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!o||Yp(u)===Yp(c);s(t,{replace:n,state:a})}}),[u,s,c,o,a,i,t])}(c,{replace:a,state:s,target:u});return(0,e.createElement)("a",Iv({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var Dv=[{name:"hydrogen",x1:36,y1:69,x2:68,y2:101},{name:"helium",x1:630,y1:70,x2:664,y2:101},{name:"sodium",x1:38,y1:142,x2:68,y2:174},{name:"magnesium",x1:72,y1:142,x2:101,y2:172},{name:"carbon",x1:490,y1:107,x2:525,y2:139},{name:"oxygen",x1:562,y1:107,x2:593,y2:137},{name:"boron",x1:456,y1:106,x2:488,y2:138},{name:"lithium",x1:37,y1:107,x2:69,y2:139},{name:"beryllium",x1:73,y1:107,x2:103,y2:138},{name:"neon",x1:632,y1:110,x2:662,y2:140}],Pv=[{name:"calcium",x1:72,y1:176,x2:103,y2:209},{name:"sodium",x1:39,y1:144,x2:69,y2:174},{name:"fluorine",x1:597,y1:107,x2:627,y2:137},{name:"chlorine",x1:597,y1:141,x2:627,y2:171},{name:"argon",x1:632,y1:143,x2:662,y2:173},{name:"sulfur",x1:562,y1:142,x2:592,y2:172},{name:"aluminum",x1:457,y1:141,x2:487,y2:171},{name:"phosphorous",x1:529,y1:143,x2:559,y2:173},{name:"potassium",x1:37,y1:179,x2:67,y2:209},{name:"copper",x1:389,y1:178,x2:419,y2:208}],Rv=function(){return(0,Tv.jsxs)("div",{className:"home-page",children:[(0,Tv.jsx)("h1",{children:"CHEMICAL ELEMENT SEARCH"}),(0,Tv.jsx)("span",{className:"directions",children:"Pick a level:"}),(0,Tv.jsxs)("div",{className:"home-level",children:[(0,Tv.jsx)(Nv,{to:"/chemical-elements/easy-chemistry",children:(0,Tv.jsx)("div",{className:"level-item",children:"Easy"})}),(0,Tv.jsx)(Nv,{to:"/chemical-elements/hard-chemistry",children:(0,Tv.jsx)("div",{className:"level-item",children:"Hard"})})]})]})},Ov=n(191),Lv=n.n(Ov),Mv=function(e){var t=e.name,n=e.time,r=e.rank,i=function(){var e=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA9AAAAPQBFLZpEgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAPiSURBVFiFtVc9b9tWFD33UaREfUBVLMOWFSUa1BYaLKApirRb4LGLMwbI1CV70dXIEHjr4J/QyXvdoaORrTEKu0A8GC0EWzYMM4ZESxYlUuLX7WBTlVOJog3nbHz34xxcXN77HjEzIqFej7fn0itgWiVQFcwFAIVrqwYijcEHIN7K6b1tVCrDKGlploBWq1WQyX3NoJcAMtHUwiDwpsOxN/l8XruTgEajkchl1DUGfgSQjEj8MUwCNtqGtV4ulweRBTSbzcWY8H8l4OkdiW+AgR3XF8/n5+c/zBTQbp8vk0+/A/zwPsjHqE5Z8Pe53ML+VAHNZnNRFvxnGDkz4+JCR7/fx2BgAQASCRWpVAoPHsyBiEJFOD59M16JkYBGo5HIZtS3YWW3LBNnZ2ew7ckNrihxLC0tQVWntwwDO5eG9SzoCREYchl1LYzccWycnBxPJQcA2x7i5OQYjmNP9SHgaS6jro2+mRmtVqsQI6+OkG4/Pm7ANPtTE48jmUzh8eNymIvpslTJ5/OaAACZ3Ndh5IPBIDI5AJhmH4PBxL9upPGaEwL1evx6yExF0Gy3wawYBr1EvR4X7bn0CmZMuOEw0lS9bUymPZdeEWBaneUZj8dvLSBSDNOqIFB1ll8qlbq1gCgxBKqK660WCllWoChKZHJFUSDLEfyZCwL/rdRQFIslCCHN9BNCQrFYipISAApits8VEokESqVHIJoeQiRQKj1CIpGImhYCQOi+DuC6Lno9A2Gjngjo9Qy4rhuVX4uBSAPz59M8fN/H+fkHXF52MOvy4vs+dL2Fiwsd2exnWFhYhBAhRSbSBIMPptkdx0ajcYhOpz2TfBzMjE6njUbjMHQvMPhAgHhrknEwsHB0dHinIRRgOBzi6Ohw+lQk3hI5vbcNwBg/930Pp6en8DzvzuQBPO8ql+//L5eR03vbApXKkMCb4xZN00JLd1s4jg1Nu9nrBN5EpTIUAOBw7A0AEwD6/T663ct7Iw/Q7V6i3x9tVPOa8+pCks/nNQI2AKDTad87eYAgNwEbwXV99I+0DWvd9dxdw+h+MgGG0YXrubttw1oPzkYCyuXyoKnrr4QQ/qcSIITwm7r+avyNcGNKVKu1vWw2+0KSpHsXIUmSn81mX1Srtb3x84kPk/fv9761LXPbcWz1PshlWbEUNblSqz1597Ft4pys1Z68iydRTKfTO+H3/HAQEdLp9E48ieIkciDC43R//6/v2LF/MS3zy6jjmIiQVJN/k6z8sLz81R+hvlGT/rP7Nu8omZ88133uOs5Dx/NU3/Ml4Kq55JhkxmT5VIpJv8l27+cvvn7WipL3X0LZzL8ZKEZVAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADfAAAA3wEPrWGOAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAnNQTFRF////ktu2n9+fquOqquPGs+azuejRld+qj+Ctt+XLjt2qu+PMx+bRwOfUxuPVxenXsuTFt+LJj+CrweTRw+XTkd6qkN+rkN+pwuXRxuXUkN+qkN+qyObWyuXYy+bYzOfakN+qkOCqyObXzubb2s7B2s7C1OffkN+q1efgkOCqkN+q2ejj2+jm3Onn3ujo3ejn3ujo+3xm/HxmMkpeMkteM0xfNE5gNlBhN1JiOFNiOVRjOVVkOlZkPFlmP15oP19pQGBpQGFqRGZsRmRpR2RpSGdqSWhrSW9xS3JyT3h2UHp2VYJ6XXluaIt4aYRxa6SMbKWMcK2QdLOTeIxveLmXeY9xe49we5Bxe76ZfMCafcGbf8ScgqR+g8ughs+iitWljdqoj92pj96pkN6qkN+qkt+sk9+ok9+tlN+tl96lmuCynd2hneC0neO0nqRun+O2oN2fpNycqdyYrOLAreLBrtuVr+PCr+PDsNuTsduSubFpvLVqwLdqwuXRxOXTxuXUxuXVx9iDy7llzNN9zObaztd+zubbz9N71cBm2fDi2/Dk3cVl3fDm3fXl3sBh4ejq4ujr4unr4vfp4+js4+nr4+ns4+q+4+zE5Oq+5eq55fPo5fXp5uKm5unt5unu585o5/ft6N3f6OGi6Pft69Np7Mlg7Mxk7Yh87ZyP7aCT7oJ179Jm8GBN8Lew8VQ/8WJO8clf8frw8shc8she8tZz8vry88hd9KWZ9c1e9tRu9vz495WF+NFg+P36+c5d+dFf+f36+tFe+4Rx+8VV+85c/Xpl/c9c/dBd/nRd/s5a/s9b/tFf/3BY/85a/9Bb/9Fd////VMNUHAAAADN0Uk5TAAcICQkKCxgZJy0tMjU2OUJHSXt/hJeYuLzByM3Q0tPa4+ns8PDx8vLz9fr7+/z+/v7+hCM0UQAAAhtJREFUGBllwYVbU1EcBuDfZmxiT7fpZmzW3GyP2IFid4soivphd3cnBtjJUewCWxSwQHTq9Xj/JM+NncHD+1KSw+MPhKLRUMDvcVBtbl8EWLogM2sZgIjPTTU5vTEAM9LY8AnjJ2UCiHmdVI0rCGlaKjMNmQ8p6CIlJQwge+ZQZhswHVI4hWyuMKSMEUxJzYAUdpHJGYSUPYwNHMwS0mAIOsnghWF2KkvfM4ix9LGsH2NsMQxektwxGBaNY5PF970nxYMPp6cylgVDzE1EPlhGsd3C9mNM/yUw+YgcEVgmjhbKnJGwRBzkgWX5wllCmTcFNg/5Ydn1eb1Q5p7bDIufArCsEb+FcvjnKlgCFILtmKjmEGwhiiJh5zNhu78NCVGKQtn0TZjKN0KJUghJJ4TpCJJCFEDSw5dfhCh/cxtJAfJD2fDxV+Xr95V/366D4icPlAtXhOnqWSgeckRgWrH9+Ff9+j8h/lzTS49uzYEp4iDyQVp7IJ/zT7r+6u6td7peynne/tWQfETkjgE7znPpnn7j8fMXT27qd7iUtwWIuUnyrjzITafO8KfFxY94bi437cvxksHZkVsucV5UVVXE+WVu6eAkU8PuPKFE00p4QrcGZGvek9vKNK2M23o0I6VJV26p0LQKbunSiKqp1/oilwrimhYv4FJ+qzpUU9O2vTkv1KRCznu1aUy11W/ZvnPfeLxPp3Yt6pLyH+AifZTXx/XRAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAZmSURBVFiFrZdrbFzFFcd/M/fevbvX67W9tmM7dkkUaKC1RBLikNLEIQWRUBJAQEglpLYRVREhbVEjVNGH1IcqlUqgNEK0pGoiitq6sUUlKohSJFAeGFTjOg3IxkmJ44QkdvyM7V17d+9j+mHX+/BeOyHt+bJ7z5xz/v+ZOefMjOA6Zcvah1uU4oFwSXhSCfa2vfPqc9cTR3wWY9X6qEbDhdV7/1r+9JvHtMcCZpCySATHcXj47tHffm3T+Cv013eJ7W3u/5WA+mDdzbje94HtQMVLb3yJvsEInmuzZFktphngc5FzbF15BGAMRSvS3SPWdpz+nwioY83VBOyfgHgK0D1X8sv9FbSfECilKA2XohsGAIaueGDjJI98ZQhNAuAAB9D1n4mm4wOfmYD6aP3jTLvPoaie1T2zp5IPT2UchaC8vKLIb+PqSXZuu5yvGqNU+6FofPf3fjjSF/zj5jYsbT9BPQve0R3KggMoFJ7nFfke+VeE3v5gTmFpUYLaPtWz4aAfll4E3tP8CgFtGwAlGiQcUNB62ALgwTVRvn13DQjFaKACI2gSLVuEUnC0q4d9f7vE0a4ItyxNgBBgZSBMsV11b4iJxmPfmncFVM+dTxHQvplVCECmd2loTFJbYbLrngYCMkAgYlBXu5yq8iVIEUKTIe5quo0Vy0sYHAmk/TUKNzkoH1cfNT/pS0B1bqzCEHuLssJTADgerP9COBfRjPosqOCupjJSdsbGVcUmpnxRdW/OOudWoES1IOdsiasgL8bqZdYsXTAX+xCAGxuqcx8KcOaQ0ISOnG7JUQbUv++oJxz4FCEK5+8oGE+hJkqI/aeOcE0DQkmwUlB5uy8BUCQudhCMngFrECoCoM9ZVqUUV7x60XR8IL0ChvHrIvAsPcCVWKaeBgfQjHnA007BYBDczGL61ZkQAotf5YZ1sdk3ViYBRSQO5JWcukqn9TwIjc6C+dtIcR+AVN2NASRVvkYiE0D3kHWXQWRIuMX1n8cOwmdAn0lPb75WZ8gq1bnakLgVG2Zn6s80w6VqAoLj6Y+kBsonw4GkfRms8xmnBTu9wCxdJ9Fl40JW+VWANZz+9TRIXvA1P9F7jti0KPb1E6lulXjKr6AzAVThTK1B0FLp/1M+54uy+V1bH6fPZZLUU/OuVNreq5QINTmvQcIrnIXwoKw/MxaAxKcF5u0fdjEwYtN+MpRTJhfKF65IXM77DrkK4k6ByvZ0Xr64nl4v3WrdkRHc5AQA3ZdG+cW+U4RLwpzoLcs5xR3/jgggVb+Oso6iUoXZmvJgyinaw4Nnt9DSt5UW4PbwBZ6o/QBxIclb9uc5fGQKIQSGYTCdyitTD7hiQ6kOgbymoABNP66LFW8NqRPrPkHKm0CB7RW3T2AkUcGrZx7Mfvcko/x86BGSXiSNkzqeS/q57p6CCRt0CYYABHjeabGqfSRNKaFamXFgxi0CH09F+cfAFn7T+wPKA/GsfrE1mgUHEEJj9nogjBDvxR5i0p3TXhwvjTHjQNJthdn7gC7347rPkqn6y4la3rj4ECfHVzIwU58LoMGSyCgl2jAeOjWBIQBMzWGq1qC/x8N2bMyqpbw2tpvX2E21cZ7lwU7uLD1IpX4ptzHCO5AlINa826f+ecebKO4/Ob6KFz7+ETNuXiZnpM4aJBpxiOu34mmF43pSB14nHotTtXJTVj9s38CwfQOdsXvZUf1jlgc7Af4u1nachfyjwmX3hF2e2nvqmSJwTTh8sXYAo/pmpszGInCAUN1NGJFqhNQJ39hUNJ5UFn8a/SlTTtRGk8/O6rMExJff/+TPZ3ccmLLLipwbqpMjMfOWIn2BCEF01SYC0VqETO+sUopYLJU1ibvlHJp88g9iTXv2dllwARnu276LkrGlwL1ZpWRAhRbXLYyelqo194PKNR475TE2OkMy6VJZGQI41Nux9TsFvOcGefSlobCa1g4BzQCGrp2sqw+vuBYCcyWVdBkcjAGwqKaky8Lc8Pw3RDzfpui60LZrUSyE/VWgFUBqVzv8ry6mqZ8fn0ltngsOC72MlBLbnh9/wgzqX6+psdZdD3Aq5U1MTSZe/+PO0h0I4duPr/o2fPovqkYazveEEjuB4qeQv4wpoV6Wtr7nhcfEyEKG1/w6/u4hZRpx9x48NiG4DViWR+gKcAZFF3DYLtXefvE+kbyWuP8F96hV5nBpJvwAAAAASUVORK5CYII="],t=Math.floor(Math.random()*e.length);return console.log(t),e[t]}();return(0,Tv.jsxs)("div",{className:"card",children:[(0,Tv.jsx)("span",{className:"ranking",children:r}),(0,Tv.jsx)("span",{className:"avatar",children:(0,Tv.jsx)("img",{src:i,alt:"avatar"})}),(0,Tv.jsx)("span",{className:"user-name",children:t}),(0,Tv.jsx)("span",{className:"user-score",children:n})]})},Fv=function(){var t=u((0,e.useState)([]),2),n=t[0],r=t[1];window.onload=function(){window.location.hash||(window.location=window.location+"#loaded",window.location.reload())},(0,e.useEffect)((function(){var e=function(){var e=a(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t){var n=e.Time,r=t.Time,i=0;return n>r?i=1:n<r&&(i=-1),i},t=[],e.next=4,Bp.collection("high-scores").get();case 4:e.sent.forEach((function(e){t.push(e.data())})),t.sort(n),r(t.slice(0,10));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),console.log(Bp.collection("high-scores").orderBy("Time","asc"));return(0,Tv.jsxs)("div",{children:[(0,Tv.jsx)("h1",{children:"CHEMICAL ELEMENT SEARCH"}),(0,Tv.jsx)("h2",{children:"Best Times Leaderboard"}),(0,Tv.jsx)("div",{className:"best-times",children:n.map((function(e){return(0,Tv.jsx)("div",{children:(0,Tv.jsx)(Mv,{rank:n.indexOf(e)+1,name:e.Name,time:(t=e.Time,Math.floor(t/60)+":"+("0"+Math.floor(t%60)).slice(-2))})},Lv()());var t}))}),(0,Tv.jsx)(Nv,{to:"/chemical-elements/",children:(0,Tv.jsx)("button",{type:"button",className:"play-again",children:"Play Again"})})]})};var Vv=function(){var e=Dv,t=Pv;return(0,Tv.jsx)("div",{className:"App",children:(0,Tv.jsx)(Cv,{children:(0,Tv.jsxs)(Sv,{children:[(0,Tv.jsx)(wv,{exact:!0,path:"/chemical-elements/easy-chemistry",element:(0,Tv.jsx)(kv,{difficulty:e})}),(0,Tv.jsx)(wv,{exact:!0,path:"/chemical-elements/hard-chemistry",element:(0,Tv.jsx)(kv,{difficulty:t})}),(0,Tv.jsx)(wv,{exact:!0,path:"/chemical-elements/",element:(0,Tv.jsx)(Rv,{})}),(0,Tv.jsx)(wv,{exact:!0,path:"/chemical-elements/leaderboard",element:(0,Tv.jsx)(Fv,{})})]})})})};t.createRoot(document.getElementById("root")).render((0,Tv.jsx)(e.StrictMode,{children:(0,Tv.jsx)(Vv,{})}))}()}();
//# sourceMappingURL=main.d2686e3a.js.map